const searchIcon=document.querySelector("#search-icon"),hamburguerBtn=document.querySelector(".hamburguer"),brandSelect=document.querySelector("#brand"),yearSelect=document.querySelector("#year"),minPrice=document.querySelector("#min"),maxPrice=document.querySelector("#max"),doorsSelect=document.querySelector("#doors"),transmissionSelect=document.querySelector("#transmission"),colorSelect=document.querySelector("#color"),results=document.querySelector("#results"),searchData={year:"",brand:"",minPrice:"",maxPrice:"",doors:"",transmission:"",color:""};function startApp(){eventListeners(),showCars(cars)}function eventListeners(){searchIcon.addEventListener("click",openSearchbar),hamburguerBtn.addEventListener("click",openNav),window.addEventListener("click",closeOutsideClick),window.addEventListener("scroll",colorHeaderScroll),brandSelect.addEventListener("change",e=>{const c=e.target.value;searchData.brand=c}),yearSelect.addEventListener("change",e=>{const c=e.target.value;searchData.year=c}),minPrice.addEventListener("change",e=>{const c=e.target.value;searchData.minPrice=c}),maxPrice.addEventListener("change",e=>{const c=e.target.value;searchData.maxPrice=c}),doorsSelect.addEventListener("change",e=>{const c=e.target.value;searchData.doors=c}),transmissionSelect.addEventListener("change",e=>{const c=e.target.value;searchData.transmission=c}),colorSelect.addEventListener("change",e=>{const c=e.target.value;searchData.color=c}),console.log(searchData)}function openSearchbar(){const e=document.querySelector("#search-box");e.classList.toggle("search-box--active"),e.classList.toggle("search-box__contenedor")}function openNav(){document.querySelector(".nav").classList.toggle("nav--active")}function closeOutsideClick(e){const c=e.target,t=document.querySelector("#search-box"),n=document.querySelector(".nav");t.classList.contains("search-box--active")&&c!==searchIcon&&!t.contains(c)&&t.classList.remove("search-box--active","search-box__contenedor"),n.classList.contains("nav--active")&&c!==hamburguerBtn&&n.classList.remove("nav--active"),closeOnScroll(n,t)}function closeOnScroll(e,c){window.addEventListener("scroll",()=>{e.classList.remove("nav--active"),c.classList.remove("search-box--active","search-box__contenedor")})}function colorHeaderScroll(){const e=document.querySelector(".header");if(window.scrollY>90)return e.style.backgroundColor="White",void(searchIcon.style.color="Black");e.style.backgroundColor="transparent",searchIcon.style.color="White"}function showCars(e){e.forEach(e=>{const{img:c,year:t,brand:n,model:a,price:r,doors:s,transmission:o}=e,l=`\n        <picture>\n          <source srcset="${c}.avif" type="image/avif" />\n          <source srcset="${c}.webp" type="image/webp" />\n          <img\n            class="car__img"\n            loading="lazy"\n            width="500"\n            height="300"\n            src="${c}.jpg"\n            alt=""\n          />\n        </picture>\n        <span class="car__year">${t}</span>\n        <div class="car__content">\n          <h2 class="car__model">${n} ${a}</h2>\n          <p class="car__price">\n            $${r.toLocaleString()}\n            <i class="bx bxs-star car__price--reviews">(5 Rese√±as)</i>\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-door-open car__icon"></i>\n            ${s} Puertas\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-car car__icon"></i>\n            ${o}\n          </p>\n          <div class="car__btns">\n            <a href="#" class="car__btn">Comprar</a>\n            <a href="#" class="car__details">Ver detalles</a>\n          </div>\n        </div>\n`,i=document.createElement("div");i.classList.add("car"),i.innerHTML=l,results.appendChild(i)}),fillSelects(e)}function fillSelects(e){e.forEach(e=>{const{brand:c,doors:t,transmission:n,color:a}=e;fillBrandsSelect(c)}),fillYearSelect()}function fillBrandsSelect(e){const c=document.createElement("option");c.value=e,c.textContent=e,brandSelect.appendChild(c)}function fillYearSelect(){const e=(new Date).getFullYear(),c=e-10;for(let t=e;t>=c;t--){const e=document.createElement("option");e.value=t,e.textContent=t,yearSelect.appendChild(e)}}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZWFyY2hJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ3VlckJ0biIsImJyYW5kU2VsZWN0IiwieWVhclNlbGVjdCIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJkb29yc1NlbGVjdCIsInRyYW5zbWlzc2lvblNlbGVjdCIsImNvbG9yU2VsZWN0IiwicmVzdWx0cyIsInNlYXJjaERhdGEiLCJ5ZWFyIiwiYnJhbmQiLCJkb29ycyIsInRyYW5zbWlzc2lvbiIsImNvbG9yIiwic3RhcnRBcHAiLCJldmVudExpc3RlbmVycyIsInNob3dDYXJzIiwiY2FycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcGVuU2VhcmNoYmFyIiwib3Blbk5hdiIsIndpbmRvdyIsImNsb3NlT3V0c2lkZUNsaWNrIiwiY29sb3JIZWFkZXJTY3JvbGwiLCJlIiwic2VsZWN0ZWRWYWx1ZSIsInRhcmdldCIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsInNlYXJjaEJveCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlZmVyZW5jZSIsIm5hdiIsImNvbnRhaW5zIiwicmVtb3ZlIiwiY2xvc2VPblNjcm9sbCIsImhlYWRlciIsInNjcm9sbFkiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImZvckVhY2giLCJjYXIiLCJpbWciLCJtb2RlbCIsInByaWNlIiwiY2FyQ2FyZCIsInRvTG9jYWxlU3RyaW5nIiwiY2FySFRNTCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImZpbGxTZWxlY3RzIiwiZmlsbEJyYW5kc1NlbGVjdCIsImZpbGxZZWFyU2VsZWN0Iiwib3B0aW9uIiwidGV4dENvbnRlbnQiLCJ5ZWFyTWF4IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwieWVhck1pbiIsImkiXSwibWFwcGluZ3MiOiJBQUNBLE1BQU1BLFdBQWFDLFNBQVNDLGNBQWMsZ0JBQ3BDQyxjQUFnQkYsU0FBU0MsY0FBYyxl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S0MsTUFBRUEsRUFBS25DLE1BQUVBLEVBQUtDLGFBQUVBLEdBQWlCK0IsRUFDMURJLEVBQVUsa0RBRVFILDJEQUNBQSwrS0FNVEEsaUdBSWVuQyxrRkFFQ0MsS0FBU21DLDBEQUU3QkMsRUFBTUUsdU5BS1ByQyxrSUFJQUMsZ05BU0pxQyxFQUFVcEQsU0FBU3FELGNBQWMsT0FDdkNELEVBQVFsQixVQUFVb0IsSUFBSSxPQUN0QkYsRUFBUUcsVUFBWUwsRUFFcEJ4QyxRQUFROEMsWUFBWUosS0FHdEJLLFlBQVlyQyxHQUdkLFNBQVNxQyxZQUFZckMsR0FDbkJBLEVBQUt5QixRQUFTQyxJQUNaLE1BQU1qQyxNQUFFQSxFQUFLQyxNQUFFQSxFQUFLQyxhQUFFQSxFQUFZQyxNQUFFQSxHQUFVOEIsRUFFOUNZLGlCQUFpQjdDLEtBR25COEMsaUJBR0YsU0FBU0QsaUJBQWlCN0MsR0FDeEIsTUFBTStDLEVBQVM1RCxTQUFTcUQsY0FBYyxVQUN0Q08sRUFBTzlCLE1BQVFqQixFQUNmK0MsRUFBT0MsWUFBY2hELEVBRXJCVixZQUFZcUQsWUFBWUksR0FHMUIsU0FBU0QsaUJBQ1AsTUFBTUcsR0FBVSxJQUFJQyxNQUFPQyxjQUNyQkMsRUFBVUgsRUFBVSxHQUUxQixJQUFLLElBQUlJLEVBQUlKLEVBQVNJLEdBQUtELEVBQVNDLElBQUssQ0FDdkMsTUFBTU4sRUFBUzVELFNBQVNxRCxjQUFjLFVBQ3RDTyxFQUFPOUIsTUFBUW9DLEVBQ2ZOLEVBQU9DLFlBQWNLLEVBRXJCOUQsV0FBV29ELFlBQVlJLElBNU0zQjVELFNBQVNxQixpQkFBaUIsbUJBQW9CSiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWYXJpYWJsZXMgbmF2ZWdhY2lvblxyXG5jb25zdCBzZWFyY2hJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NlYXJjaC1pY29uYCk7XHJcbmNvbnN0IGhhbWJ1cmd1ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGFtYnVyZ3VlcmApO1xyXG5cclxuLy8gVmFyaWFibGVzIGZpbHRybyBkZSBidXNxdWVkYVxyXG5jb25zdCBicmFuZFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNicmFuZGApO1xyXG5jb25zdCB5ZWFyU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3llYXJgKTtcclxuY29uc3QgbWluUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjbWluYCk7XHJcbmNvbnN0IG1heFByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI21heGApO1xyXG5jb25zdCBkb29yc1NlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNkb29yc2ApO1xyXG5jb25zdCB0cmFuc21pc3Npb25TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjdHJhbnNtaXNzaW9uYCk7XHJcbmNvbnN0IGNvbG9yU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NvbG9yYCk7XHJcblxyXG4vLyBDb250ZW5lZG9yIGRlIHJlc3VsdGFkb3NcclxuY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXN1bHRzYCk7XHJcblxyXG5jb25zdCBzZWFyY2hEYXRhID0ge1xyXG4gIHllYXI6IGBgLFxyXG4gIGJyYW5kOiBgYCxcclxuICBtaW5QcmljZTogYGAsXHJcbiAgbWF4UHJpY2U6IGBgLFxyXG4gIGRvb3JzOiBgYCxcclxuICB0cmFuc21pc3Npb246IGBgLFxyXG4gIGNvbG9yOiBgYCxcclxufTtcclxuXHJcbi8vIEV2ZW50b3NcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIHN0YXJ0QXBwKTtcclxuXHJcbmZ1bmN0aW9uIHN0YXJ0QXBwKCkge1xyXG4gIGV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgc2hvd0NhcnMoY2Fycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXJzKCkge1xyXG4gIC8vIEV2ZW50b3MgZGVsIHNlYXJjaEJhciB5IE5hdi5cclxuXHJcbiAgc2VhcmNoSWNvbi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIG9wZW5TZWFyY2hiYXIpO1xyXG4gIGhhbWJ1cmd1ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBvcGVuTmF2KTtcclxuXHJcbiAgLy8gQ2VycmFyIGVsIHNlYXJjaGJhciB5IGVsIG5hdiBhbCBoYWNlciBjbGljayBlbiBjdWFscXVpZXIgcGFydGUgZGVsIGRvY3VtZW50by5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBjbG9zZU91dHNpZGVDbGljayk7XHJcbiAgLy8gQ2FtYmlhciBlbCBjb2xvciBkZWwgaGVhZGVyIGFsIGhhY2VyIHNjcm9sbC5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihgc2Nyb2xsYCwgY29sb3JIZWFkZXJTY3JvbGwpO1xyXG5cclxuICAvLyBFdmVudG9zIHBhcmEgZWwgZmlsdHJvIGRlIGLDunNxdWVkYS5cclxuICBicmFuZFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEuYnJhbmQgPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICB5ZWFyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS55ZWFyID0gc2VsZWN0ZWRWYWx1ZTtcclxuICB9KTtcclxuXHJcbiAgbWluUHJpY2UuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLm1pblByaWNlID0gc2VsZWN0ZWRWYWx1ZTtcclxuICB9KTtcclxuXHJcbiAgbWF4UHJpY2UuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLm1heFByaWNlID0gc2VsZWN0ZWRWYWx1ZTtcclxuICB9KTtcclxuXHJcbiAgZG9vcnNTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLmRvb3JzID0gc2VsZWN0ZWRWYWx1ZTtcclxuICB9KTtcclxuXHJcbiAgdHJhbnNtaXNzaW9uU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS50cmFuc21pc3Npb24gPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICBjb2xvclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEuY29sb3IgPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICBjb25zb2xlLmxvZyhzZWFyY2hEYXRhKTtcclxufVxyXG5cclxuLy8gRnVuY2lvbmVzXHJcbmZ1bmN0aW9uIG9wZW5TZWFyY2hiYXIoKSB7XHJcbiAgY29uc3Qgc2VhcmNoQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NlYXJjaC1ib3hgKTtcclxuXHJcbiAgc2VhcmNoQm94LmNsYXNzTGlzdC50b2dnbGUoYHNlYXJjaC1ib3gtLWFjdGl2ZWApO1xyXG4gIHNlYXJjaEJveC5jbGFzc0xpc3QudG9nZ2xlKGBzZWFyY2gtYm94X19jb250ZW5lZG9yYCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5OYXYoKSB7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmApO1xyXG5cclxuICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShgbmF2LS1hY3RpdmVgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VPdXRzaWRlQ2xpY2soZSkge1xyXG4gIGNvbnN0IHJlZmVyZW5jZSA9IGUudGFyZ2V0O1xyXG4gIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzZWFyY2gtYm94YCk7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmApO1xyXG5cclxuICAvKiBcclxuICAgICAxLSBWZXJpZmljYSBzaSBlbCBzZWFyY2hiYXIgZXN0w6EgYWJpZXJ0by5cclxuICAgICAyLSBSZXZpc2Egc2kgZWwgY2xpY2sgbm8gb2N1cnJpw7MgZW4gZWwgaWNvbm8uIFxyXG4gICAgIDMtIFZlIHNpIGVsIGNsaWNrIG5vIG9jdXJyacOzIGRlbnRybyBkZWwgc2VhcmNoYmFyLlxyXG4gICovXHJcbiAgaWYgKFxyXG4gICAgc2VhcmNoQm94LmNsYXNzTGlzdC5jb250YWlucyhgc2VhcmNoLWJveC0tYWN0aXZlYCkgJiZcclxuICAgIHJlZmVyZW5jZSAhPT0gc2VhcmNoSWNvbiAmJlxyXG4gICAgIXNlYXJjaEJveC5jb250YWlucyhyZWZlcmVuY2UpXHJcbiAgKSB7XHJcbiAgICAvLyBDaWVycmEgZWwgc2VhcmNoQmFyIGFsIGVsaW1pbmFyIGxhIGNsYXNlIHF1ZSBsbyBoYWNlIHZpc2libGVcclxuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QucmVtb3ZlKGBzZWFyY2gtYm94LS1hY3RpdmVgLCBgc2VhcmNoLWJveF9fY29udGVuZWRvcmApO1xyXG4gIH1cclxuXHJcbiAgLyogXHJcbiAgICAxLSBWZXJpZmljYSBzaSBsYSBjbGFzZSBgbmF2LS1hY3RpdmVgIGV4aXN0ZS5cclxuICAgIDItIFJldmlzYSBzaSBlbCBjbGljayBubyBvY3VycmnDsyBlbiBlbCBib3RvbiBoYW1idXJndWVzYS5cclxuICAqL1xyXG4gIGlmIChuYXYuY2xhc3NMaXN0LmNvbnRhaW5zKGBuYXYtLWFjdGl2ZWApICYmIHJlZmVyZW5jZSAhPT0gaGFtYnVyZ3VlckJ0bikge1xyXG4gICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoYG5hdi0tYWN0aXZlYCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZU9uU2Nyb2xsKG5hdiwgc2VhcmNoQm94KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VPblNjcm9sbChuYXYsIHNlYXJjaEJveCkge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBzY3JvbGxgLCAoKSA9PiB7XHJcbiAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZShgbmF2LS1hY3RpdmVgKTtcclxuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QucmVtb3ZlKGBzZWFyY2gtYm94LS1hY3RpdmVgLCBgc2VhcmNoLWJveF9fY29udGVuZWRvcmApO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb2xvckhlYWRlclNjcm9sbCgpIHtcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyYCk7XHJcbiAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgaWYgKHNjcm9sbFBvc2l0aW9uID4gOTApIHtcclxuICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIldoaXRlXCI7XHJcbiAgICBzZWFyY2hJY29uLnN0eWxlLmNvbG9yID0gYEJsYWNrYDtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBgdHJhbnNwYXJlbnRgO1xyXG4gIHNlYXJjaEljb24uc3R5bGUuY29sb3IgPSBgV2hpdGVgO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93Q2FycyhjYXJzKSB7XHJcbiAgY2Fycy5mb3JFYWNoKChjYXIpID0+IHtcclxuICAgIGNvbnN0IHsgaW1nLCB5ZWFyLCBicmFuZCwgbW9kZWwsIHByaWNlLCBkb29ycywgdHJhbnNtaXNzaW9uIH0gPSBjYXI7XHJcbiAgICBjb25zdCBjYXJDYXJkID0gYFxyXG4gICAgICAgIDxwaWN0dXJlPlxyXG4gICAgICAgICAgPHNvdXJjZSBzcmNzZXQ9XCIke2ltZ30uYXZpZlwiIHR5cGU9XCJpbWFnZS9hdmlmXCIgLz5cclxuICAgICAgICAgIDxzb3VyY2Ugc3Jjc2V0PVwiJHtpbWd9LndlYnBcIiB0eXBlPVwiaW1hZ2Uvd2VicFwiIC8+XHJcbiAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgIGNsYXNzPVwiY2FyX19pbWdcIlxyXG4gICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXHJcbiAgICAgICAgICAgIHdpZHRoPVwiNTAwXCJcclxuICAgICAgICAgICAgaGVpZ2h0PVwiMzAwXCJcclxuICAgICAgICAgICAgc3JjPVwiJHtpbWd9LmpwZ1wiXHJcbiAgICAgICAgICAgIGFsdD1cIlwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvcGljdHVyZT5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImNhcl9feWVhclwiPiR7eWVhcn08L3NwYW4+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcl9fY29udGVudFwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzPVwiY2FyX19tb2RlbFwiPiR7YnJhbmR9ICR7bW9kZWx9PC9oMj5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19wcmljZVwiPlxyXG4gICAgICAgICAgICAkJHtwcmljZS50b0xvY2FsZVN0cmluZygpfVxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImJ4IGJ4cy1zdGFyIGNhcl9fcHJpY2UtLXJldmlld3NcIj4oNSBSZXNlw7Fhcyk8L2k+XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImNhcl9fY2hhcmFjdGVyXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiYnggYnhzLWRvb3Itb3BlbiBjYXJfX2ljb25cIj48L2k+XHJcbiAgICAgICAgICAgICR7ZG9vcnN9IFB1ZXJ0YXNcclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19jaGFyYWN0ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtY2FyIGNhcl9faWNvblwiPjwvaT5cclxuICAgICAgICAgICAgJHt0cmFuc21pc3Npb259XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyX19idG5zXCI+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJfX2J0blwiPkNvbXByYXI8L2E+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJfX2RldGFpbHNcIj5WZXIgZGV0YWxsZXM8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuYDtcclxuXHJcbiAgICBjb25zdCBjYXJIVE1MID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcbiAgICBjYXJIVE1MLmNsYXNzTGlzdC5hZGQoYGNhcmApO1xyXG4gICAgY2FySFRNTC5pbm5lckhUTUwgPSBjYXJDYXJkO1xyXG5cclxuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQoY2FySFRNTCk7XHJcbiAgfSk7XHJcblxyXG4gIGZpbGxTZWxlY3RzKGNhcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsU2VsZWN0cyhjYXJzKSB7XHJcbiAgY2Fycy5mb3JFYWNoKChjYXIpID0+IHtcclxuICAgIGNvbnN0IHsgYnJhbmQsIGRvb3JzLCB0cmFuc21pc3Npb24sIGNvbG9yIH0gPSBjYXI7XHJcblxyXG4gICAgZmlsbEJyYW5kc1NlbGVjdChicmFuZCk7XHJcbiAgfSk7XHJcblxyXG4gIGZpbGxZZWFyU2VsZWN0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxCcmFuZHNTZWxlY3QoYnJhbmQpIHtcclxuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBvcHRpb25gKTtcclxuICBvcHRpb24udmFsdWUgPSBicmFuZDtcclxuICBvcHRpb24udGV4dENvbnRlbnQgPSBicmFuZDtcclxuXHJcbiAgYnJhbmRTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbFllYXJTZWxlY3QoKSB7XHJcbiAgY29uc3QgeWVhck1heCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICBjb25zdCB5ZWFyTWluID0geWVhck1heCAtIDEwO1xyXG5cclxuICBmb3IgKGxldCBpID0geWVhck1heDsgaSA+PSB5ZWFyTWluOyBpLS0pIHtcclxuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYG9wdGlvbmApO1xyXG4gICAgb3B0aW9uLnZhbHVlID0gaTtcclxuICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGk7XHJcblxyXG4gICAgeWVhclNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gIH1cclxufVxyXG4iXX0=
