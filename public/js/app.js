const searchIcon=document.querySelector("#search-icon"),hamburguerBtn=document.querySelector(".hamburguer"),brandSelect=document.querySelector("#brand"),yearSelect=document.querySelector("#year"),minPrice=document.querySelector("#min"),maxPrice=document.querySelector("#max"),doorsSelect=document.querySelector("#doors"),transmissionSelect=document.querySelector("#transmission"),colorSelect=document.querySelector("#color"),results=document.querySelector("#results"),searchData={year:"",brand:"",minPrice:"",maxPrice:"",doors:"",transmission:"",color:""};function startApp(){eventListeners(),showCars(cars),fillCarsSelects(cars),actualDate()}function eventListeners(){searchIcon.addEventListener("click",openSearchbar),hamburguerBtn.addEventListener("click",openNav),window.addEventListener("click",closeOutsideClick),window.addEventListener("scroll",colorHeaderScroll),brandSelect.addEventListener("change",e=>{const t=e.target.value;searchData.brand=t,filterCar()}),yearSelect.addEventListener("change",e=>{const t=e.target.value;searchData.year=t,filterCar()}),minPrice.addEventListener("change",e=>{const t=e.target.value;searchData.minPrice=t,filterCar()}),maxPrice.addEventListener("change",e=>{const t=e.target.value;searchData.maxPrice=t,filterCar()}),doorsSelect.addEventListener("change",e=>{const t=e.target.value;searchData.doors=t,filterCar()}),transmissionSelect.addEventListener("change",e=>{const t=e.target.value;searchData.transmission=t,filterCar()}),colorSelect.addEventListener("change",e=>{const t=e.target.value;searchData.color=t,filterCar()})}function openSearchbar(){const e=document.querySelector("#search-box");e.classList.toggle("search-box--active"),e.classList.toggle("search-box__contenedor")}function openNav(){document.querySelector(".nav").classList.toggle("nav--active")}function closeOutsideClick(e){const t=e.target,r=document.querySelector("#search-box"),a=document.querySelector(".nav");r.classList.contains("search-box--active")&&t!==searchIcon&&!r.contains(t)&&r.classList.remove("search-box--active","search-box__contenedor"),a.classList.contains("nav--active")&&t!==hamburguerBtn&&a.classList.remove("nav--active"),closeOnScroll(a,r)}function closeOnScroll(e,t){window.addEventListener("scroll",()=>{e.classList.remove("nav--active"),t.classList.remove("search-box--active","search-box__contenedor")})}function colorHeaderScroll(){const e=document.querySelector(".header"),t=window.scrollY;e.classList.toggle("header__bg",t>100)}function showCars(e){cleanHTML(),e.forEach(e=>{const{img:t,year:r,brand:a,model:n,price:c,doors:s,transmission:o}=e;let l=Math.floor(100*Math.random());const i=`\n        <picture>\n          <source srcset="${t}.avif" type="image/avif" />\n          <source srcset="${t}.webp" type="image/webp" />\n          <img\n            class="car__img"\n            loading="lazy"\n            width="500"\n            height="300"\n            src="${t}.jpg"\n            alt=""\n          />\n        </picture>\n        <span class="car__year">${r}</span>\n        <div class="car__content">\n          <h2 class="car__model">${a} ${n}</h2>\n          <p class="car__price">\n            $${c.toLocaleString()}\n            <i class="bx bxs-star car__price--reviews">(${l} Rese√±as)</i>\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-door-open car__icon"></i>\n            ${s} Puertas\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-car car__icon"></i>\n            ${o}\n          </p>\n          <div class="car__btns">\n            <a href="#" class="car__btn">Comprar</a>\n            <a href="#" class="car__details">Ver detalles</a>\n          </div>\n        </div>\n`,d=document.createElement("div");d.classList.add("car"),d.innerHTML=i,results.appendChild(d)})}function cleanHTML(){for(;results.firstChild;)results.removeChild(results.firstChild)}function fillCarsSelects(e){fillSelect(e.map(({brand:e})=>e).filter((e,t,r)=>r.indexOf(e)===t),brandSelect),fillSelect(e.map(({doors:e})=>e).filter((e,t,r)=>r.indexOf(e)===t),doorsSelect),fillSelect(e.map(({color:e})=>e).filter((e,t,r)=>r.indexOf(e)===t),colorSelect),fillYearSelect()}function fillYearSelect(){const e=(new Date).getFullYear(),t=e-10;for(let r=e;r>=t;r--){const e=createOption(r);yearSelect.appendChild(e)}}function fillSelect(e,t){e.forEach(e=>{const r=createOption(e);t.appendChild(r)})}function createOption(e){const t=document.createElement("option");return t.value=e,t.textContent=e,t}function filterCar(){const e=cars.filter(filterBrand).filter(filterCars);e.length?showCars(e):noResults()}function filterBrand(e){const{brand:t}=searchData;return t?e.brand===t:e}function filterCars(e){const{year:t,minPrice:r,maxPrice:a,doors:n,transmission:c,color:s}=searchData,o=!t||e.year===parseInt(t),l=!r||e.price>=r,i=!a||e.price<=a,d=!n||e.doors===parseInt(n),u=!c||e.transmission.toLowerCase()==c,m=!s||e.color===s;return o&&l&&i&&d&&u&&m}function noResults(){cleanHTML();const e=document.createElement("p");e.classList.add("alerta"),e.textContent="No se encontraron resultados, prueba de nuevo",results.appendChild(e)}function actualDate(){const e=document.querySelector(".footerDate");let t=(new Date).getFullYear();e.textContent=t}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZWFyY2hJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ3VlckJ0biIsImJyYW5kU2VsZWN0IiwieWVhclNlbGVjdCIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJkb29yc1NlbGVjdCIsInRyYW5zbWlzc2lvblNlbGVjdCIsImNvbG9yU2VsZWN0IiwicmVzdWx0cyIsInNlYXJjaERhdGEiLCJ5ZWFyIiwiYnJhbmQiLCJkb29ycyIsInRyYW5zbWlzc2lvbiIsImNvbG9yIiwic3RhcnRBcHAiLCJldmVudExpc3RlbmVycyIsInNob3dDYXJzIiwiY2FycyIsImZpbGxDYXJzU2VsZWN0cyIsImFjdHVhbERhdGUiLCJhZGRFdmVudExpc3RlbmVyIiwib3BlblNlYXJjaGJhciIsIm9wZW5OYXYiLCJ3aW5kb3ciLCJjbG9zZU91dHNpZGVDbGljayIsImNvbG9ySGVhZGVyU2Nyb2xsIiwiZSIsInNlbGVjdGVkVmFsdWUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImZpbHRlckNhciIsInNlYXJjaEJveCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlZmVyZW5jZSIsIm5hdiIsImNvbnRhaW5zIiwicmVtb3ZlIiwiY2xvc2VPblNjcm9sbCIsImhlYWRlciIsInNjcm9sbFBvc1kiLCJzY3JvbGxZIiwiY2xlYW5IVE1MIiwiZm9yRWFjaCIsImNhciIsImltZyIsIm1vZGVsIiwicHJpY2UiLCJyYW5kb21OdW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjYXJDYXJkIiwidG9Mb2NhbGVTdHJpbmciLCJjYXJIVE1MIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZmlsbFNlbGVjdCIsIm1hcCIsImZpbHRlciIsImluZGV4IiwiY2FyQnJhbmRzIiwiaW5kZXhPZiIsImNhckRvb3JzIiwiY2FyQ29sb3JzIiwiZmlsbFllYXJTZWxlY3QiLCJ5ZWFyTWF4IiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwieWVhck1pbiIsImkiLCJvcHRpb24iLCJjcmVhdGVPcHRpb24iLCJjYXJzRGF0YSIsInNlbGVjdEVsZW1lbnQiLCJjYXJEYXRhIiwidGV4dENvbnRlbnQiLCJyZXN1bHQiLCJmaWx0ZXJCcmFuZCIsImZpbHRlckNhcnMiLCJsZW5ndGgiLCJub1Jlc3VsdHMiLCJpc1llYXJNYXRjaCIsInBhcnNlSW50IiwiaXNNaW5QcmljZU1hdGNoIiwiaXNNYXhQcmljZU1hdGNoIiwiaXNEb29yc01hdGNoIiwiaXNUcmFuc21pc3Npb25NYXRjaCIsInRvTG93ZXJDYXNlIiwiaXNDb2xvck1hdGNoIiwibm9SZXN1bHQiLCJmb290ZXJEYXRlIiwiZGF0ZURheSJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsV0FBYUMsU0FBU0MsY0FBYyxnQkFDcENDLGNBQWdCRixTQUFTQyxjQUFjLGVBR3ZDRSxZQUFjSCxTQUFTQyxjQUFjLFVBQ3JDRyxXQUFhSixTQUFTQyxjQUFjLFNBQ3BDSSxTQUFXTCxTQUFTQyxjQUFjLFFBQ2xDSyxTQUFXTixTQUFTQyxjQUFjLFFBQ2xDTSxZQUFjUCxTQUFTQyxjQUFjLFVBQ3JDTyxtQkFBcUJSLFNBQVNDLGNBQWMsaUJBQzVDUSxZQUFjVCxTQUFTQyxjQUFjLFVBR3JDUyxRQUFVVixTQUFTQyxjQUFjLFlBRWpDVSxXQUFhLENBQ2pCQyxLQUFNLEdBQ05DLE1BQU8sR0FDUFIsU0FBVSxHQUNWQyxTQUFVLEdBQ1ZRLE1BQU8sR0FDUEMsYUFBYyxHQUNkQyxNQUFPLElBTVQsU0FBU0MsV0FDUEMsaUJBQ0FDLFNBQVNDLE1BQ1RDLGdCQUFnQkQsTUFDaEJFLGFBR0YsU0FBU0osaUJBR1BuQixXQUFXd0IsaUJBQWlCLFFBQVNDLGVBQ3JDdEIsY0FBY3FCLGlCQUFpQixRQUFTRSxTQUd4Q0MsT0FBT0gsaUJBQWlCLFFBQVNJLG1CQUVqQ0QsT0FBT0gsaUJBQWlCLFNBQVVLLG1CQUdsQ3pCLFlBQVlvQixpQkFBaUIsU0FBV00sSUFDdEMs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RixHQUFtQnRGLEdBQVl5QyxFQUFJRyxPQUFTNUMsRUFDNUN1RixHQUFnQi9FLEdBQVNpQyxFQUFJakMsUUFBVTRFLFNBQVM1RSxHQUNoRGdGLEdBQ0gvRSxHQUFnQmdDLEVBQUloQyxhQUFhZ0YsZUFBaUJoRixFQUMvQ2lGLEdBQWdCaEYsR0FBUytCLEVBQUkvQixRQUFVQSxFQUU3QyxPQUNFeUUsR0FDQUUsR0FDQUMsR0FDQUMsR0FDQUMsR0FDQUUsRUFJSixTQUFTUixZQUNQM0MsWUFFQSxNQUFNb0QsRUFBV2pHLFNBQVMwRCxjQUFjLEtBQ3hDdUMsRUFBUzlELFVBQVV3QixJQUFJLFVBQ3ZCc0MsRUFBU2QsWUFBYyxnREFFdkJ6RSxRQUFRbUQsWUFBWW9DLEdBR3RCLFNBQVMzRSxhQUNQLE1BQU00RSxFQUFhbEcsU0FBU0MsY0FBYyxlQUMxQyxJQUFJa0csR0FBVSxJQUFJekIsTUFBT0MsY0FFekJ1QixFQUFXZixZQUFjZ0IsRUE1UzNCbkcsU0FBU3VCLGlCQUFpQixtQkFBb0JOIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFZhcmlhYmxlcyBuYXZlZ2FjaW9uXHJcbmNvbnN0IHNlYXJjaEljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc2VhcmNoLWljb25gKTtcclxuY29uc3QgaGFtYnVyZ3VlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oYW1idXJndWVyYCk7XHJcblxyXG4vLyBWYXJpYWJsZXMgZmlsdHJvIGRlIGJ1c3F1ZWRhXHJcbmNvbnN0IGJyYW5kU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2JyYW5kYCk7XHJcbmNvbnN0IHllYXJTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjeWVhcmApO1xyXG5jb25zdCBtaW5QcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNtaW5gKTtcclxuY29uc3QgbWF4UHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjbWF4YCk7XHJcbmNvbnN0IGRvb3JzU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2Rvb3JzYCk7XHJcbmNvbnN0IHRyYW5zbWlzc2lvblNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCN0cmFuc21pc3Npb25gKTtcclxuY29uc3QgY29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY29sb3JgKTtcclxuXHJcbi8vIENvbnRlbmVkb3IgZGUgcmVzdWx0YWRvc1xyXG5jb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3Jlc3VsdHNgKTtcclxuXHJcbmNvbnN0IHNlYXJjaERhdGEgPSB7XHJcbiAgeWVhcjogYGAsXHJcbiAgYnJhbmQ6IGBgLFxyXG4gIG1pblByaWNlOiBgYCxcclxuICBtYXhQcmljZTogYGAsXHJcbiAgZG9vcnM6IGBgLFxyXG4gIHRyYW5zbWlzc2lvbjogYGAsXHJcbiAgY29sb3I6IGBgLFxyXG59O1xyXG5cclxuLy8gRXZlbnRvc1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBET01Db250ZW50TG9hZGVkYCwgc3RhcnRBcHApO1xyXG5cclxuZnVuY3Rpb24gc3RhcnRBcHAoKSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnMoKTtcclxuICBzaG93Q2FycyhjYXJzKTtcclxuICBmaWxsQ2Fyc1NlbGVjdHMoY2Fycyk7XHJcbiAgYWN0dWFsRGF0ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBldmVudExpc3RlbmVycygpIHtcclxuICAvLyBFdmVudG9zIGRlbCBzZWFyY2hCYXIgeSBOYXYuXHJcblxyXG4gIHNlYXJjaEljb24uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBvcGVuU2VhcmNoYmFyKTtcclxuICBoYW1idXJndWVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgb3Blbk5hdik7XHJcblxyXG4gIC8vIENlcnJhciBlbCBzZWFyY2hiYXIgeSBlbCBuYXYgYWwgaGFjZXIgY2xpY2sgZW4gY3VhbHF1aWVyIHBhcnRlIGRlbCBkb2N1bWVudG8uXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgY2xvc2VPdXRzaWRlQ2xpY2spO1xyXG4gIC8vIENhbWJpYXIgZWwgY29sb3IgZGVsIGhlYWRlciBhbCBoYWNlciBzY3JvbGwuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHNjcm9sbGAsIGNvbG9ySGVhZGVyU2Nyb2xsKTtcclxuXHJcbiAgLy8gRXZlbnRvcyBwYXJhIGVsIGZpbHRybyBkZSBiw7pzcXVlZGEuXHJcbiAgYnJhbmRTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLmJyYW5kID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgeWVhclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEueWVhciA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIG1pblByaWNlLmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5taW5QcmljZSA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIG1heFByaWNlLmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5tYXhQcmljZSA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRvb3JzU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5kb29ycyA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRyYW5zbWlzc2lvblNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEudHJhbnNtaXNzaW9uID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgY29sb3JTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLmNvbG9yID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gY29uc29sZS5sb2coc2VhcmNoRGF0YSk7XHJcbn1cclxuXHJcbi8vIEZ1bmNpb25lc1xyXG5mdW5jdGlvbiBvcGVuU2VhcmNoYmFyKCkge1xyXG4gIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzZWFyY2gtYm94YCk7XHJcblxyXG4gIHNlYXJjaEJveC5jbGFzc0xpc3QudG9nZ2xlKGBzZWFyY2gtYm94LS1hY3RpdmVgKTtcclxuICBzZWFyY2hCb3guY2xhc3NMaXN0LnRvZ2dsZShgc2VhcmNoLWJveF9fY29udGVuZWRvcmApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuTmF2KCkge1xyXG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZgKTtcclxuXHJcbiAgbmF2LmNsYXNzTGlzdC50b2dnbGUoYG5hdi0tYWN0aXZlYCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlT3V0c2lkZUNsaWNrKGUpIHtcclxuICBjb25zdCByZWZlcmVuY2UgPSBlLnRhcmdldDtcclxuICBjb25zdCBzZWFyY2hCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc2VhcmNoLWJveGApO1xyXG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZgKTtcclxuXHJcbiAgLyogXHJcbiAgICAgMS0gVmVyaWZpY2Egc2kgZWwgc2VhcmNoYmFyIGVzdMOhIGFiaWVydG8uXHJcbiAgICAgMi0gUmV2aXNhIHNpIGVsIGNsaWNrIG5vIG9jdXJyacOzIGVuIGVsIGljb25vLiBcclxuICAgICAzLSBWZSBzaSBlbCBjbGljayBubyBvY3VycmnDsyBkZW50cm8gZGVsIHNlYXJjaGJhci5cclxuICAqL1xyXG4gIGlmIChcclxuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QuY29udGFpbnMoYHNlYXJjaC1ib3gtLWFjdGl2ZWApICYmXHJcbiAgICByZWZlcmVuY2UgIT09IHNlYXJjaEljb24gJiZcclxuICAgICFzZWFyY2hCb3guY29udGFpbnMocmVmZXJlbmNlKVxyXG4gICkge1xyXG4gICAgLy8gQ2llcnJhIGVsIHNlYXJjaEJhciBhbCBlbGltaW5hciBsYSBjbGFzZSBxdWUgbG8gaGFjZSB2aXNpYmxlXHJcbiAgICBzZWFyY2hCb3guY2xhc3NMaXN0LnJlbW92ZShgc2VhcmNoLWJveC0tYWN0aXZlYCwgYHNlYXJjaC1ib3hfX2NvbnRlbmVkb3JgKTtcclxuICB9XHJcblxyXG4gIC8qIFxyXG4gICAgMS0gVmVyaWZpY2Egc2kgbGEgY2xhc2UgYG5hdi0tYWN0aXZlYCBleGlzdGUuXHJcbiAgICAyLSBSZXZpc2Egc2kgZWwgY2xpY2sgbm8gb2N1cnJpw7MgZW4gZWwgYm90b24gaGFtYnVyZ3Vlc2EuXHJcbiAgKi9cclxuICBpZiAobmF2LmNsYXNzTGlzdC5jb250YWlucyhgbmF2LS1hY3RpdmVgKSAmJiByZWZlcmVuY2UgIT09IGhhbWJ1cmd1ZXJCdG4pIHtcclxuICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKGBuYXYtLWFjdGl2ZWApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VPblNjcm9sbChuYXYsIHNlYXJjaEJveCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlT25TY3JvbGwobmF2LCBzZWFyY2hCb3gpIHtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihgc2Nyb2xsYCwgKCkgPT4ge1xyXG4gICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoYG5hdi0tYWN0aXZlYCk7XHJcbiAgICBzZWFyY2hCb3guY2xhc3NMaXN0LnJlbW92ZShgc2VhcmNoLWJveC0tYWN0aXZlYCwgYHNlYXJjaC1ib3hfX2NvbnRlbmVkb3JgKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29sb3JIZWFkZXJTY3JvbGwoKSB7XHJcbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmhlYWRlcmApO1xyXG4gIGNvbnN0IHNjcm9sbFBvc1kgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoYGhlYWRlcl9fYmdgLCBzY3JvbGxQb3NZID4gMTAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0NhcnMoY2Fycykge1xyXG4gIC8vIExpbXBpYSBlbCBIVE1MIHByZXZpb1xyXG4gIGNsZWFuSFRNTCgpO1xyXG5cclxuICBjYXJzLmZvckVhY2goKGNhcikgPT4ge1xyXG4gICAgY29uc3QgeyBpbWcsIHllYXIsIGJyYW5kLCBtb2RlbCwgcHJpY2UsIGRvb3JzLCB0cmFuc21pc3Npb24gfSA9IGNhcjtcclxuICAgIGxldCByYW5kb21OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG4gICAgY29uc3QgY2FyQ2FyZCA9IGBcclxuICAgICAgICA8cGljdHVyZT5cclxuICAgICAgICAgIDxzb3VyY2Ugc3Jjc2V0PVwiJHtpbWd9LmF2aWZcIiB0eXBlPVwiaW1hZ2UvYXZpZlwiIC8+XHJcbiAgICAgICAgICA8c291cmNlIHNyY3NldD1cIiR7aW1nfS53ZWJwXCIgdHlwZT1cImltYWdlL3dlYnBcIiAvPlxyXG4gICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICBjbGFzcz1cImNhcl9faW1nXCJcclxuICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgICAgICB3aWR0aD1cIjUwMFwiXHJcbiAgICAgICAgICAgIGhlaWdodD1cIjMwMFwiXHJcbiAgICAgICAgICAgIHNyYz1cIiR7aW1nfS5qcGdcIlxyXG4gICAgICAgICAgICBhbHQ9XCJcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L3BpY3R1cmU+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJfX3llYXJcIj4ke3llYXJ9PC9zcGFuPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJfX2NvbnRlbnRcIj5cclxuICAgICAgICAgIDxoMiBjbGFzcz1cImNhcl9fbW9kZWxcIj4ke2JyYW5kfSAke21vZGVsfTwvaDI+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImNhcl9fcHJpY2VcIj5cclxuICAgICAgICAgICAgJCR7cHJpY2UudG9Mb2NhbGVTdHJpbmcoKX1cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtc3RhciBjYXJfX3ByaWNlLS1yZXZpZXdzXCI+KCR7cmFuZG9tTnVtYmVyfSBSZXNlw7Fhcyk8L2k+XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImNhcl9fY2hhcmFjdGVyXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiYnggYnhzLWRvb3Itb3BlbiBjYXJfX2ljb25cIj48L2k+XHJcbiAgICAgICAgICAgICR7ZG9vcnN9IFB1ZXJ0YXNcclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19jaGFyYWN0ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtY2FyIGNhcl9faWNvblwiPjwvaT5cclxuICAgICAgICAgICAgJHt0cmFuc21pc3Npb259XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyX19idG5zXCI+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJfX2J0blwiPkNvbXByYXI8L2E+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJfX2RldGFpbHNcIj5WZXIgZGV0YWxsZXM8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuYDtcclxuXHJcbiAgICBjb25zdCBjYXJIVE1MID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcbiAgICBjYXJIVE1MLmNsYXNzTGlzdC5hZGQoYGNhcmApO1xyXG4gICAgY2FySFRNTC5pbm5lckhUTUwgPSBjYXJDYXJkO1xyXG5cclxuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQoY2FySFRNTCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFuSFRNTCgpIHtcclxuICB3aGlsZSAocmVzdWx0cy5maXJzdENoaWxkKSB7XHJcbiAgICByZXN1bHRzLnJlbW92ZUNoaWxkKHJlc3VsdHMuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsQ2Fyc1NlbGVjdHMoY2Fycykge1xyXG4gIGxldCBjYXJCcmFuZHMgPSBjYXJzXHJcbiAgICAubWFwKCh7IGJyYW5kIH0pID0+IGJyYW5kKVxyXG4gICAgLmZpbHRlcigoYnJhbmQsIGluZGV4LCBjYXJCcmFuZHMpID0+IGNhckJyYW5kcy5pbmRleE9mKGJyYW5kKSA9PT0gaW5kZXgpO1xyXG5cclxuICBmaWxsU2VsZWN0KGNhckJyYW5kcywgYnJhbmRTZWxlY3QpO1xyXG5cclxuICBsZXQgY2FyRG9vcnMgPSBjYXJzXHJcbiAgICAubWFwKCh7IGRvb3JzIH0pID0+IGRvb3JzKVxyXG4gICAgLmZpbHRlcigoZG9vcnMsIGluZGV4LCBjYXJEb29ycykgPT4gY2FyRG9vcnMuaW5kZXhPZihkb29ycykgPT09IGluZGV4KTtcclxuXHJcbiAgZmlsbFNlbGVjdChjYXJEb29ycywgZG9vcnNTZWxlY3QpO1xyXG5cclxuICBsZXQgY2FyQ29sb3JzID0gY2Fyc1xyXG4gICAgLm1hcCgoeyBjb2xvciB9KSA9PiBjb2xvcilcclxuICAgIC5maWx0ZXIoKGNvbG9yLCBpbmRleCwgY2FyQ29sb3JzKSA9PiBjYXJDb2xvcnMuaW5kZXhPZihjb2xvcikgPT09IGluZGV4KTtcclxuXHJcbiAgZmlsbFNlbGVjdChjYXJDb2xvcnMsIGNvbG9yU2VsZWN0KTtcclxuXHJcbiAgZmlsbFllYXJTZWxlY3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbFllYXJTZWxlY3QoKSB7XHJcbiAgY29uc3QgeWVhck1heCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICBjb25zdCB5ZWFyTWluID0geWVhck1heCAtIDEwO1xyXG5cclxuICBmb3IgKGxldCBpID0geWVhck1heDsgaSA+PSB5ZWFyTWluOyBpLS0pIHtcclxuICAgIGNvbnN0IG9wdGlvbiA9IGNyZWF0ZU9wdGlvbihpKTtcclxuICAgIHllYXJTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxTZWxlY3QoY2Fyc0RhdGEsIHNlbGVjdEVsZW1lbnQpIHtcclxuICBjYXJzRGF0YS5mb3JFYWNoKChjYXJEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBvcHRpb24gPSBjcmVhdGVPcHRpb24oY2FyRGF0YSk7XHJcbiAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbih2YWx1ZSkge1xyXG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYG9wdGlvbmApO1xyXG4gIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xyXG4gIG9wdGlvbi50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG5cclxuICByZXR1cm4gb3B0aW9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJDYXIoKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gY2Fycy5maWx0ZXIoZmlsdGVyQnJhbmQpLmZpbHRlcihmaWx0ZXJDYXJzKTtcclxuXHJcbiAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcclxuICAgIHNob3dDYXJzKHJlc3VsdCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG5vUmVzdWx0cygpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJCcmFuZChjYXIpIHtcclxuICBjb25zdCB7IGJyYW5kIH0gPSBzZWFyY2hEYXRhO1xyXG5cclxuICAvLyBTaSBicmFuZCB0aWVuZSB1biB2YWxvciAoZXMgZGVjaXIsIGVsIHVzdWFyaW8gZXNwZWNpZmljw7MgdW5hIG1hcmNhKSwgZW50b25jZXMgbGEgY29uZGljacOzbiBkZW50cm8gZGVsIGlmIHNlIGV2YWx1YXLDoSBjb21vIHRydWUgeSBlbCBjw7NkaWdvIGRlbnRybyBkZWwgYmxvcXVlIHt9IHNlIGVqZWN1dGFyw6EuXHJcbiAgaWYgKGJyYW5kKSB7XHJcbiAgICByZXR1cm4gY2FyLmJyYW5kID09PSBicmFuZDtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbHRlckNhcnMoY2FyKSB7XHJcbiAgY29uc3QgeyB5ZWFyLCBtaW5QcmljZSwgbWF4UHJpY2UsIGRvb3JzLCB0cmFuc21pc3Npb24sIGNvbG9yIH0gPSBzZWFyY2hEYXRhO1xyXG5cclxuICAvLyBSZXZpc2Egc2kgZWwgY29jaGUgY29pbmNpZGUgY29uIGVsIGHDsW8gYnVzY2Fkby4gU2kgeWVhciBlcyB1bmRlZmluZWQgbyBudWxsIChsbyBxdWUgc2lnbmlmaWNhIHF1ZSBlbCB1c3VhcmlvIG5vIGVzcGVjaWZpY8OzIHVuIGHDsW8pLCAheWVhciBzZXLDoSB0cnVlIHkgaXNZZWFyTWF0Y2ggc2Vyw6EgdHJ1ZS4gU2kgeWVhciB0aWVuZSB1biB2YWxvciwgZW50b25jZXMgY29tcGFyYW1vcyBjYXIueWVhciA9PT0geWVhci4gU2kgc29uIGlndWFsZXMsIGlzWWVhck1hdGNoIHNlcsOhIHRydWU7IGRlIGxvIGNvbnRyYXJpbywgc2Vyw6EgZmFsc2UuXHJcbiAgY29uc3QgaXNZZWFyTWF0Y2ggPSAheWVhciB8fCBjYXIueWVhciA9PT0gcGFyc2VJbnQoeWVhcik7XHJcbiAgY29uc3QgaXNNaW5QcmljZU1hdGNoID0gIW1pblByaWNlIHx8IGNhci5wcmljZSA+PSBtaW5QcmljZTtcclxuICBjb25zdCBpc01heFByaWNlTWF0Y2ggPSAhbWF4UHJpY2UgfHwgY2FyLnByaWNlIDw9IG1heFByaWNlO1xyXG4gIGNvbnN0IGlzRG9vcnNNYXRjaCA9ICFkb29ycyB8fCBjYXIuZG9vcnMgPT09IHBhcnNlSW50KGRvb3JzKTtcclxuICBjb25zdCBpc1RyYW5zbWlzc2lvbk1hdGNoID1cclxuICAgICF0cmFuc21pc3Npb24gfHwgY2FyLnRyYW5zbWlzc2lvbi50b0xvd2VyQ2FzZSgpID09IHRyYW5zbWlzc2lvbjtcclxuICBjb25zdCBpc0NvbG9yTWF0Y2ggPSAhY29sb3IgfHwgY2FyLmNvbG9yID09PSBjb2xvcjtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIGlzWWVhck1hdGNoICYmXHJcbiAgICBpc01pblByaWNlTWF0Y2ggJiZcclxuICAgIGlzTWF4UHJpY2VNYXRjaCAmJlxyXG4gICAgaXNEb29yc01hdGNoICYmXHJcbiAgICBpc1RyYW5zbWlzc2lvbk1hdGNoICYmXHJcbiAgICBpc0NvbG9yTWF0Y2hcclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBub1Jlc3VsdHMoKSB7XHJcbiAgY2xlYW5IVE1MKCk7XHJcblxyXG4gIGNvbnN0IG5vUmVzdWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgcGApO1xyXG4gIG5vUmVzdWx0LmNsYXNzTGlzdC5hZGQoYGFsZXJ0YWApO1xyXG4gIG5vUmVzdWx0LnRleHRDb250ZW50ID0gYE5vIHNlIGVuY29udHJhcm9uIHJlc3VsdGFkb3MsIHBydWViYSBkZSBudWV2b2A7XHJcblxyXG4gIHJlc3VsdHMuYXBwZW5kQ2hpbGQobm9SZXN1bHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhY3R1YWxEYXRlKCkge1xyXG4gIGNvbnN0IGZvb3RlckRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuZm9vdGVyRGF0ZWApO1xyXG4gIGxldCBkYXRlRGF5ID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICBmb290ZXJEYXRlLnRleHRDb250ZW50ID0gZGF0ZURheTtcclxufVxyXG4iXX0=
