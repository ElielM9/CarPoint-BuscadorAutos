const searchIcon=document.querySelector("#search-icon"),hamburguerBtn=document.querySelector(".hamburguer"),brandSelect=document.querySelector("#brand"),yearSelect=document.querySelector("#year"),minPrice=document.querySelector("#min"),maxPrice=document.querySelector("#max"),doorsSelect=document.querySelector("#doors"),transmissionSelect=document.querySelector("#transmission"),colorSelect=document.querySelector("#color"),results=document.querySelector("#results"),searchData={year:"",brand:"",minPrice:"",maxPrice:"",doors:"",transmission:"",color:""};function startApp(){eventListeners(),showCars(cars),fillCarsSelects(cars)}function eventListeners(){searchIcon.addEventListener("click",openSearchbar),hamburguerBtn.addEventListener("click",openNav),window.addEventListener("click",closeOutsideClick),window.addEventListener("scroll",colorHeaderScroll),brandSelect.addEventListener("change",e=>{const r=e.target.value;searchData.brand=r,filterCar()}),yearSelect.addEventListener("change",e=>{const r=parseInt(e.target.value);searchData.year=r,filterCar()}),minPrice.addEventListener("change",e=>{const r=e.target.value;searchData.minPrice=r,filterCar()}),maxPrice.addEventListener("change",e=>{const r=e.target.value;searchData.maxPrice=r,filterCar()}),doorsSelect.addEventListener("change",e=>{const r=e.target.value;searchData.doors=r,filterCar()}),transmissionSelect.addEventListener("change",e=>{const r=e.target.value;searchData.transmission=r,filterCar()}),colorSelect.addEventListener("change",e=>{const r=e.target.value;searchData.color=r,filterCar()})}function openSearchbar(){const e=document.querySelector("#search-box");e.classList.toggle("search-box--active"),e.classList.toggle("search-box__contenedor")}function openNav(){document.querySelector(".nav").classList.toggle("nav--active")}function closeOutsideClick(e){const r=e.target,t=document.querySelector("#search-box"),n=document.querySelector(".nav");t.classList.contains("search-box--active")&&r!==searchIcon&&!t.contains(r)&&t.classList.remove("search-box--active","search-box__contenedor"),n.classList.contains("nav--active")&&r!==hamburguerBtn&&n.classList.remove("nav--active"),closeOnScroll(n,t)}function closeOnScroll(e,r){window.addEventListener("scroll",()=>{e.classList.remove("nav--active"),r.classList.remove("search-box--active","search-box__contenedor")})}function colorHeaderScroll(){const e=document.querySelector(".header"),r=window.scrollY;e.classList.toggle("header__bg",r>100)}function showCars(e){cleanHTML(),e.forEach(e=>{const{img:r,year:t,brand:n,model:a,price:c,doors:s,transmission:o}=e;let i=Math.floor(100*Math.random());const l=`\n        <picture>\n          <source srcset="${r}.avif" type="image/avif" />\n          <source srcset="${r}.webp" type="image/webp" />\n          <img\n            class="car__img"\n            loading="lazy"\n            width="500"\n            height="300"\n            src="${r}.jpg"\n            alt=""\n          />\n        </picture>\n        <span class="car__year">${t}</span>\n        <div class="car__content">\n          <h2 class="car__model">${n} ${a}</h2>\n          <p class="car__price">\n            $${c.toLocaleString()}\n            <i class="bx bxs-star car__price--reviews">(${i} Rese√±as)</i>\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-door-open car__icon"></i>\n            ${s} Puertas\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-car car__icon"></i>\n            ${o}\n          </p>\n          <div class="car__btns">\n            <a href="#" class="car__btn">Comprar</a>\n            <a href="#" class="car__details">Ver detalles</a>\n          </div>\n        </div>\n`,d=document.createElement("div");d.classList.add("car"),d.innerHTML=l,results.appendChild(d)})}function cleanHTML(){for(;results.firstChild;)results.removeChild(results.firstChild)}function fillCarsSelects(e){fillSelect(e.map(({brand:e})=>e).filter((e,r,t)=>t.indexOf(e)===r),brandSelect),fillSelect(e.map(({doors:e})=>e).filter((e,r,t)=>t.indexOf(e)===r),doorsSelect),fillSelect(e.map(({color:e})=>e).filter((e,r,t)=>t.indexOf(e)===r),colorSelect),fillYearSelect()}function fillYearSelect(){const e=(new Date).getFullYear(),r=e-10;for(let t=e;t>=r;t--){const e=createOption(t);yearSelect.appendChild(e)}}function fillSelect(e,r){e.forEach(e=>{const t=createOption(e);r.appendChild(t)})}function createOption(e){const r=document.createElement("option");return r.value=e,r.textContent=e,r}function filterCar(){const e=cars.filter(filterBrand).filter(filterYear).filter(filterPrice).filter(filterDoors).filter(filterTransmission).filter(filterColor);e.length?showCars(e):noResults()}function noResults(){cleanHTML();const e=document.createElement("p");e.classList.add("alerta"),e.textContent="No se encontraron resultados, prueba de nuevo",results.appendChild(e)}function filterBrand(e){const{brand:r}=searchData;return r?e.brand===r:e}function filterYear(e){const{year:r}=searchData;return r?e.year===r:e}function filterPrice(e){const{minPrice:r,maxPrice:t}=searchData;return r&&t?e.price>=r&&e.price<=t:r?e.price>=r:t?e.price<=t:e}function filterDoors(e){const{doors:r}=searchData;return r?e.doors===parseInt(r):e}function filterTransmission(e){const{transmission:r}=searchData;return r?e.transmission.toLowerCase()==r:e}function filterColor(e){const{color:r}=searchData;return r?e.color===r:e}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZWFyY2hJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ3VlckJ0biIsImJyYW5kU2VsZWN0IiwieWVhclNlbGVjdCIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJkb29yc1NlbGVjdCIsInRyYW5zbWlzc2lvblNlbGVjdCIsImNvbG9yU2VsZWN0IiwicmVzdWx0cyIsInNlYXJjaERhdGEiLCJ5ZWFyIiwiYnJhbmQiLCJkb29ycyIsInRyYW5zbWlzc2lvbiIsImNvbG9yIiwic3RhcnRBcHAiLCJldmVudExpc3RlbmVycyIsInNob3dDYXJzIiwiY2FycyIsImZpbGxDYXJzU2VsZWN0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcGVuU2VhcmNoYmFyIiwib3Blbk5hdiIsIndpbmRvdyIsImNsb3NlT3V0c2lkZUNsaWNrIiwiY29sb3JIZWFkZXJTY3JvbGwiLCJlIiwic2VsZWN0ZWRWYWx1ZSIsInRhcmdldCIsInZhbHVlIiwiZmlsdGVyQ2FyIiwicGFyc2VJbnQiLCJzZWFyY2hCb3giLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZWZlcmVuY2UiLCJuYXYiLCJjb250YWlucyIsInJlbW92ZSIsImNsb3NlT25TY3JvbGwiLCJoZWFkZXIiLCJzY3JvbGxQb3NZIiwic2Nyb2xsWSIsImNsZWFuSFRNTCIsImZvckVhY2giLCJjYXIiLCJpbWciLCJtb2RlbCIsInByaWNlIiwicmFuZG9tTnVtYmVyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2FyQ2FyZCIsInRvTG9jYWxlU3RyaW5nIiwiY2FySFRNTCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImZpbGxTZWxlY3QiLCJtYXAiLCJmaWx0ZXIiLCJpbmRleCIsImNhckJyYW5kcyIsImluZGV4T2YiLCJjYXJEb29ycyIsImNhckNvbG9ycyIsImZpbGxZZWFyU2VsZWN0IiwieWVhck1heCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInllYXJNaW4iLCJpIiwib3B0aW9uIiwiY3JlYXRlT3B0aW9uIiwiY2Fyc0RhdGEiLCJzZWxlY3RFbGVtZW50IiwiY2FyRGF0YSIsInRleHRDb250ZW50IiwicmVzdWx0IiwiZmlsdGVyQnJhbmQiLCJmaWx0ZXJZZWFyIiwiZmlsdGVyUHJpY2UiLCJmaWx0ZXJEb29ycyIsImZpbHRlclRyYW5zbWlzc2lvbiIsImZpbHRlckNvbG9yIiwibGVuZ3RoIiwibm9SZXN1bHRzIiwibm9SZXN1bHQiLCJ0b0xvd2VyQ2FzZSJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsV0FBYUMsU0FBU0MsY0FBYyxnQkFDcENDLGNBQWdCRixTQUFTQyxjQUFjLGVBR3ZDRSxZQUFjSCxTQUFTQyxjQUFjLFVBQ3JDRyxXQUFhSixTQUFTQyxjQUFjLFNBQ3BDSSxTQUFXTCxTQUFTQyxjQUFjLFFBQ2xDSyxTQUFXTixTQUFTQyxjQUFjLFFBQ2xDTSxZQUFjUCxTQUFTQyxjQUFjLFVBQ3JDTyxtQkFBcUJSLFNBQVNDLGNBQWMsaUJBQzVDUSxZQUFjVCxTQUFTQyxjQUFjLFVBR3JDUyxRQUFVVixTQUFTQyxjQUFjLFlBRWpDVSxXQUFhLENBQ2pCQyxLQUFNLEdBQ05DLE1BQU8sR0FDUFIsU0FBVSxHQUNWQyxTQUFVLEdBQ1ZRLE1BQU8sR0FDUEMsYUFBYyxHQUNkQyxNQUFPLElBTVQsU0FBU0MsV0FDUEMsaUJBQ0FDLFNBQVNDLE1BQ1RDLGdCQUFnQkQsTUFHbEIsU0FBU0YsaUJBR1BuQixXQUFXdUIsaUJBQWlCLFFBQVNDLGVBQ3JDckIsY0FBY29CLGlCQUFpQixRQUFTRSxTQUd4Q0MsT0FBT0gsaUJBQWlCLFFBQVNJLG1CQUVqQ0QsT0FBT0gsaUJBQWlCLFNBQVVLLG1CQUdsQ3hCLFlBQVltQixpQkFBaUIsU0FBV00sSUFDdEMsTUFBTUMsRUFBZ0JELEVBQUVFLE9BQU9DLE1BRS9CcEIsV0FBV0UsTUFBUWdCLEVBRW5CRyxjQUdGNUIsV0FBV2tCLGlCQUFpQixTQUFXTSxJ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QVN3QyxZQUFZeEMsR0FDbkIsTUFBTTFDLFNBQUVBLEVBQVFDLFNBQUVBLEdBQWFLLFdBRS9CLE9BQUlOLEdBQVlDLEVBQ1B5QyxFQUFJRyxPQUFTN0MsR0FBWTBDLEVBQUlHLE9BQVM1QyxFQUczQ0QsRUFDSzBDLEVBQUlHLE9BQVM3QyxFQUNYQyxFQUNGeUMsRUFBSUcsT0FBUzVDLEVBR2Z5QyxFQUdULFNBQVN5QyxZQUFZekMsR0FDbkIsTUFBTWpDLE1BQUVBLEdBQVVILFdBRWxCLE9BQUlHLEVBQ0tpQyxFQUFJakMsUUFBVW1CLFNBQVNuQixHQUd6QmlDLEVBR1QsU0FBUzBDLG1CQUFtQjFDLEdBQzFCLE1BQU1oQyxhQUFFQSxHQUFpQkosV0FFekIsT0FBSUksRUFDS2dDLEVBQUloQyxhQUFhK0UsZUFBaUIvRSxFQUdwQ2dDLEVBR1QsU0FBUzJDLFlBQVkzQyxHQUNuQixNQUFNL0IsTUFBRUEsR0FBVUwsV0FFbEIsT0FBSUssRUFDSytCLEVBQUkvQixRQUFVQSxFQUdoQitCLEVBeFVUL0MsU0FBU3NCLGlCQUFpQixtQkFBb0JMIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFZhcmlhYmxlcyBuYXZlZ2FjaW9uXHJcbmNvbnN0IHNlYXJjaEljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc2VhcmNoLWljb25gKTtcclxuY29uc3QgaGFtYnVyZ3VlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oYW1idXJndWVyYCk7XHJcblxyXG4vLyBWYXJpYWJsZXMgZmlsdHJvIGRlIGJ1c3F1ZWRhXHJcbmNvbnN0IGJyYW5kU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2JyYW5kYCk7XHJcbmNvbnN0IHllYXJTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjeWVhcmApO1xyXG5jb25zdCBtaW5QcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNtaW5gKTtcclxuY29uc3QgbWF4UHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjbWF4YCk7XHJcbmNvbnN0IGRvb3JzU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2Rvb3JzYCk7XHJcbmNvbnN0IHRyYW5zbWlzc2lvblNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCN0cmFuc21pc3Npb25gKTtcclxuY29uc3QgY29sb3JTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY29sb3JgKTtcclxuXHJcbi8vIENvbnRlbmVkb3IgZGUgcmVzdWx0YWRvc1xyXG5jb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3Jlc3VsdHNgKTtcclxuXHJcbmNvbnN0IHNlYXJjaERhdGEgPSB7XHJcbiAgeWVhcjogYGAsXHJcbiAgYnJhbmQ6IGBgLFxyXG4gIG1pblByaWNlOiBgYCxcclxuICBtYXhQcmljZTogYGAsXHJcbiAgZG9vcnM6IGBgLFxyXG4gIHRyYW5zbWlzc2lvbjogYGAsXHJcbiAgY29sb3I6IGBgLFxyXG59O1xyXG5cclxuLy8gRXZlbnRvc1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBET01Db250ZW50TG9hZGVkYCwgc3RhcnRBcHApO1xyXG5cclxuZnVuY3Rpb24gc3RhcnRBcHAoKSB7XHJcbiAgZXZlbnRMaXN0ZW5lcnMoKTtcclxuICBzaG93Q2FycyhjYXJzKTtcclxuICBmaWxsQ2Fyc1NlbGVjdHMoY2Fycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXJzKCkge1xyXG4gIC8vIEV2ZW50b3MgZGVsIHNlYXJjaEJhciB5IE5hdi5cclxuXHJcbiAgc2VhcmNoSWNvbi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIG9wZW5TZWFyY2hiYXIpO1xyXG4gIGhhbWJ1cmd1ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBvcGVuTmF2KTtcclxuXHJcbiAgLy8gQ2VycmFyIGVsIHNlYXJjaGJhciB5IGVsIG5hdiBhbCBoYWNlciBjbGljayBlbiBjdWFscXVpZXIgcGFydGUgZGVsIGRvY3VtZW50by5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBjbG9zZU91dHNpZGVDbGljayk7XHJcbiAgLy8gQ2FtYmlhciBlbCBjb2xvciBkZWwgaGVhZGVyIGFsIGhhY2VyIHNjcm9sbC5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihgc2Nyb2xsYCwgY29sb3JIZWFkZXJTY3JvbGwpO1xyXG5cclxuICAvLyBFdmVudG9zIHBhcmEgZWwgZmlsdHJvIGRlIGLDunNxdWVkYS5cclxuICBicmFuZFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEuYnJhbmQgPSBzZWxlY3RlZFZhbHVlO1xyXG5cclxuICAgIGZpbHRlckNhcigpO1xyXG4gIH0pO1xyXG5cclxuICB5ZWFyU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpO1xyXG5cclxuICAgIHNlYXJjaERhdGEueWVhciA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIG1pblByaWNlLmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5taW5QcmljZSA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIG1heFByaWNlLmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5tYXhQcmljZSA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIGRvb3JzU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5kb29ycyA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIHRyYW5zbWlzc2lvblNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEudHJhbnNtaXNzaW9uID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgY29sb3JTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLmNvbG9yID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gY29uc29sZS5sb2coc2VhcmNoRGF0YSk7XHJcbn1cclxuXHJcbi8vIEZ1bmNpb25lc1xyXG5mdW5jdGlvbiBvcGVuU2VhcmNoYmFyKCkge1xyXG4gIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzZWFyY2gtYm94YCk7XHJcblxyXG4gIHNlYXJjaEJveC5jbGFzc0xpc3QudG9nZ2xlKGBzZWFyY2gtYm94LS1hY3RpdmVgKTtcclxuICBzZWFyY2hCb3guY2xhc3NMaXN0LnRvZ2dsZShgc2VhcmNoLWJveF9fY29udGVuZWRvcmApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuTmF2KCkge1xyXG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZgKTtcclxuXHJcbiAgbmF2LmNsYXNzTGlzdC50b2dnbGUoYG5hdi0tYWN0aXZlYCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlT3V0c2lkZUNsaWNrKGUpIHtcclxuICBjb25zdCByZWZlcmVuY2UgPSBlLnRhcmdldDtcclxuICBjb25zdCBzZWFyY2hCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc2VhcmNoLWJveGApO1xyXG4gIGNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZgKTtcclxuXHJcbiAgLyogXHJcbiAgICAgMS0gVmVyaWZpY2Egc2kgZWwgc2VhcmNoYmFyIGVzdMOhIGFiaWVydG8uXHJcbiAgICAgMi0gUmV2aXNhIHNpIGVsIGNsaWNrIG5vIG9jdXJyacOzIGVuIGVsIGljb25vLiBcclxuICAgICAzLSBWZSBzaSBlbCBjbGljayBubyBvY3VycmnDsyBkZW50cm8gZGVsIHNlYXJjaGJhci5cclxuICAqL1xyXG4gIGlmIChcclxuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QuY29udGFpbnMoYHNlYXJjaC1ib3gtLWFjdGl2ZWApICYmXHJcbiAgICByZWZlcmVuY2UgIT09IHNlYXJjaEljb24gJiZcclxuICAgICFzZWFyY2hCb3guY29udGFpbnMocmVmZXJlbmNlKVxyXG4gICkge1xyXG4gICAgLy8gQ2llcnJhIGVsIHNlYXJjaEJhciBhbCBlbGltaW5hciBsYSBjbGFzZSBxdWUgbG8gaGFjZSB2aXNpYmxlXHJcbiAgICBzZWFyY2hCb3guY2xhc3NMaXN0LnJlbW92ZShgc2VhcmNoLWJveC0tYWN0aXZlYCwgYHNlYXJjaC1ib3hfX2NvbnRlbmVkb3JgKTtcclxuICB9XHJcblxyXG4gIC8qIFxyXG4gICAgMS0gVmVyaWZpY2Egc2kgbGEgY2xhc2UgYG5hdi0tYWN0aXZlYCBleGlzdGUuXHJcbiAgICAyLSBSZXZpc2Egc2kgZWwgY2xpY2sgbm8gb2N1cnJpw7MgZW4gZWwgYm90b24gaGFtYnVyZ3Vlc2EuXHJcbiAgKi9cclxuICBpZiAobmF2LmNsYXNzTGlzdC5jb250YWlucyhgbmF2LS1hY3RpdmVgKSAmJiByZWZlcmVuY2UgIT09IGhhbWJ1cmd1ZXJCdG4pIHtcclxuICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKGBuYXYtLWFjdGl2ZWApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VPblNjcm9sbChuYXYsIHNlYXJjaEJveCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlT25TY3JvbGwobmF2LCBzZWFyY2hCb3gpIHtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihgc2Nyb2xsYCwgKCkgPT4ge1xyXG4gICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoYG5hdi0tYWN0aXZlYCk7XHJcbiAgICBzZWFyY2hCb3guY2xhc3NMaXN0LnJlbW92ZShgc2VhcmNoLWJveC0tYWN0aXZlYCwgYHNlYXJjaC1ib3hfX2NvbnRlbmVkb3JgKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29sb3JIZWFkZXJTY3JvbGwoKSB7XHJcbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmhlYWRlcmApO1xyXG4gIGNvbnN0IHNjcm9sbFBvc1kgPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoYGhlYWRlcl9fYmdgLCBzY3JvbGxQb3NZID4gMTAwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0NhcnMoY2Fycykge1xyXG4gIC8vIExpbXBpYSBlbCBIVE1MIHByZXZpb1xyXG4gIGNsZWFuSFRNTCgpO1xyXG5cclxuICBjYXJzLmZvckVhY2goKGNhcikgPT4ge1xyXG4gICAgY29uc3QgeyBpbWcsIHllYXIsIGJyYW5kLCBtb2RlbCwgcHJpY2UsIGRvb3JzLCB0cmFuc21pc3Npb24gfSA9IGNhcjtcclxuICAgIGxldCByYW5kb21OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG4gICAgY29uc3QgY2FyQ2FyZCA9IGBcclxuICAgICAgICA8cGljdHVyZT5cclxuICAgICAgICAgIDxzb3VyY2Ugc3Jjc2V0PVwiJHtpbWd9LmF2aWZcIiB0eXBlPVwiaW1hZ2UvYXZpZlwiIC8+XHJcbiAgICAgICAgICA8c291cmNlIHNyY3NldD1cIiR7aW1nfS53ZWJwXCIgdHlwZT1cImltYWdlL3dlYnBcIiAvPlxyXG4gICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICBjbGFzcz1cImNhcl9faW1nXCJcclxuICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxyXG4gICAgICAgICAgICB3aWR0aD1cIjUwMFwiXHJcbiAgICAgICAgICAgIGhlaWdodD1cIjMwMFwiXHJcbiAgICAgICAgICAgIHNyYz1cIiR7aW1nfS5qcGdcIlxyXG4gICAgICAgICAgICBhbHQ9XCJcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L3BpY3R1cmU+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJfX3llYXJcIj4ke3llYXJ9PC9zcGFuPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJfX2NvbnRlbnRcIj5cclxuICAgICAgICAgIDxoMiBjbGFzcz1cImNhcl9fbW9kZWxcIj4ke2JyYW5kfSAke21vZGVsfTwvaDI+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImNhcl9fcHJpY2VcIj5cclxuICAgICAgICAgICAgJCR7cHJpY2UudG9Mb2NhbGVTdHJpbmcoKX1cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtc3RhciBjYXJfX3ByaWNlLS1yZXZpZXdzXCI+KCR7cmFuZG9tTnVtYmVyfSBSZXNlw7Fhcyk8L2k+XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImNhcl9fY2hhcmFjdGVyXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiYnggYnhzLWRvb3Itb3BlbiBjYXJfX2ljb25cIj48L2k+XHJcbiAgICAgICAgICAgICR7ZG9vcnN9IFB1ZXJ0YXNcclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19jaGFyYWN0ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtY2FyIGNhcl9faWNvblwiPjwvaT5cclxuICAgICAgICAgICAgJHt0cmFuc21pc3Npb259XHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyX19idG5zXCI+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJfX2J0blwiPkNvbXByYXI8L2E+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJjYXJfX2RldGFpbHNcIj5WZXIgZGV0YWxsZXM8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuYDtcclxuXHJcbiAgICBjb25zdCBjYXJIVE1MID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgZGl2YCk7XHJcbiAgICBjYXJIVE1MLmNsYXNzTGlzdC5hZGQoYGNhcmApO1xyXG4gICAgY2FySFRNTC5pbm5lckhUTUwgPSBjYXJDYXJkO1xyXG5cclxuICAgIHJlc3VsdHMuYXBwZW5kQ2hpbGQoY2FySFRNTCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFuSFRNTCgpIHtcclxuICB3aGlsZSAocmVzdWx0cy5maXJzdENoaWxkKSB7XHJcbiAgICByZXN1bHRzLnJlbW92ZUNoaWxkKHJlc3VsdHMuZmlyc3RDaGlsZCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsQ2Fyc1NlbGVjdHMoY2Fycykge1xyXG4gIGxldCBjYXJCcmFuZHMgPSBjYXJzXHJcbiAgICAubWFwKCh7IGJyYW5kIH0pID0+IGJyYW5kKVxyXG4gICAgLmZpbHRlcigoYnJhbmQsIGluZGV4LCBjYXJCcmFuZHMpID0+IGNhckJyYW5kcy5pbmRleE9mKGJyYW5kKSA9PT0gaW5kZXgpO1xyXG5cclxuICBmaWxsU2VsZWN0KGNhckJyYW5kcywgYnJhbmRTZWxlY3QpO1xyXG5cclxuICBsZXQgY2FyRG9vcnMgPSBjYXJzXHJcbiAgICAubWFwKCh7IGRvb3JzIH0pID0+IGRvb3JzKVxyXG4gICAgLmZpbHRlcigoZG9vcnMsIGluZGV4LCBjYXJEb29ycykgPT4gY2FyRG9vcnMuaW5kZXhPZihkb29ycykgPT09IGluZGV4KTtcclxuXHJcbiAgZmlsbFNlbGVjdChjYXJEb29ycywgZG9vcnNTZWxlY3QpO1xyXG5cclxuICBsZXQgY2FyQ29sb3JzID0gY2Fyc1xyXG4gICAgLm1hcCgoeyBjb2xvciB9KSA9PiBjb2xvcilcclxuICAgIC5maWx0ZXIoKGNvbG9yLCBpbmRleCwgY2FyQ29sb3JzKSA9PiBjYXJDb2xvcnMuaW5kZXhPZihjb2xvcikgPT09IGluZGV4KTtcclxuXHJcbiAgZmlsbFNlbGVjdChjYXJDb2xvcnMsIGNvbG9yU2VsZWN0KTtcclxuXHJcbiAgZmlsbFllYXJTZWxlY3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbFllYXJTZWxlY3QoKSB7XHJcbiAgY29uc3QgeWVhck1heCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICBjb25zdCB5ZWFyTWluID0geWVhck1heCAtIDEwO1xyXG5cclxuICBmb3IgKGxldCBpID0geWVhck1heDsgaSA+PSB5ZWFyTWluOyBpLS0pIHtcclxuICAgIGNvbnN0IG9wdGlvbiA9IGNyZWF0ZU9wdGlvbihpKTtcclxuICAgIHllYXJTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxTZWxlY3QoY2Fyc0RhdGEsIHNlbGVjdEVsZW1lbnQpIHtcclxuICBjYXJzRGF0YS5mb3JFYWNoKChjYXJEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBvcHRpb24gPSBjcmVhdGVPcHRpb24oY2FyRGF0YSk7XHJcbiAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbih2YWx1ZSkge1xyXG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYG9wdGlvbmApO1xyXG4gIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xyXG4gIG9wdGlvbi50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG5cclxuICByZXR1cm4gb3B0aW9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJDYXIoKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gY2Fyc1xyXG4gICAgLmZpbHRlcihmaWx0ZXJCcmFuZClcclxuICAgIC5maWx0ZXIoZmlsdGVyWWVhcilcclxuICAgIC5maWx0ZXIoZmlsdGVyUHJpY2UpXHJcbiAgICAuZmlsdGVyKGZpbHRlckRvb3JzKVxyXG4gICAgLmZpbHRlcihmaWx0ZXJUcmFuc21pc3Npb24pXHJcbiAgICAuZmlsdGVyKGZpbHRlckNvbG9yKTtcclxuXHJcbiAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcclxuICAgIHNob3dDYXJzKHJlc3VsdCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG5vUmVzdWx0cygpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbm9SZXN1bHRzKCkge1xyXG4gIGNsZWFuSFRNTCgpO1xyXG5cclxuICBjb25zdCBub1Jlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYHBgKTtcclxuICBub1Jlc3VsdC5jbGFzc0xpc3QuYWRkKGBhbGVydGFgKTtcclxuICBub1Jlc3VsdC50ZXh0Q29udGVudCA9IGBObyBzZSBlbmNvbnRyYXJvbiByZXN1bHRhZG9zLCBwcnVlYmEgZGUgbnVldm9gO1xyXG5cclxuICByZXN1bHRzLmFwcGVuZENoaWxkKG5vUmVzdWx0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyQnJhbmQoY2FyKSB7XHJcbiAgY29uc3QgeyBicmFuZCB9ID0gc2VhcmNoRGF0YTtcclxuICBpZiAoYnJhbmQpIHtcclxuICAgIHJldHVybiBjYXIuYnJhbmQgPT09IGJyYW5kO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyWWVhcihjYXIpIHtcclxuICBjb25zdCB7IHllYXIgfSA9IHNlYXJjaERhdGE7XHJcblxyXG4gIGlmICh5ZWFyKSB7XHJcbiAgICByZXR1cm4gY2FyLnllYXIgPT09IHllYXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJQcmljZShjYXIpIHtcclxuICBjb25zdCB7IG1pblByaWNlLCBtYXhQcmljZSB9ID0gc2VhcmNoRGF0YTtcclxuXHJcbiAgaWYgKG1pblByaWNlICYmIG1heFByaWNlKSB7XHJcbiAgICByZXR1cm4gY2FyLnByaWNlID49IG1pblByaWNlICYmIGNhci5wcmljZSA8PSBtYXhQcmljZTtcclxuICB9XHJcblxyXG4gIGlmIChtaW5QcmljZSkge1xyXG4gICAgcmV0dXJuIGNhci5wcmljZSA+PSBtaW5QcmljZTtcclxuICB9IGVsc2UgaWYgKG1heFByaWNlKSB7XHJcbiAgICByZXR1cm4gY2FyLnByaWNlIDw9IG1heFByaWNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyRG9vcnMoY2FyKSB7XHJcbiAgY29uc3QgeyBkb29ycyB9ID0gc2VhcmNoRGF0YTtcclxuXHJcbiAgaWYgKGRvb3JzKSB7XHJcbiAgICByZXR1cm4gY2FyLmRvb3JzID09PSBwYXJzZUludChkb29ycyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJUcmFuc21pc3Npb24oY2FyKSB7XHJcbiAgY29uc3QgeyB0cmFuc21pc3Npb24gfSA9IHNlYXJjaERhdGE7XHJcblxyXG4gIGlmICh0cmFuc21pc3Npb24pIHtcclxuICAgIHJldHVybiBjYXIudHJhbnNtaXNzaW9uLnRvTG93ZXJDYXNlKCkgPT0gdHJhbnNtaXNzaW9uO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyQ29sb3IoY2FyKSB7XHJcbiAgY29uc3QgeyBjb2xvciB9ID0gc2VhcmNoRGF0YTtcclxuXHJcbiAgaWYgKGNvbG9yKSB7XHJcbiAgICByZXR1cm4gY2FyLmNvbG9yID09PSBjb2xvcjtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYXI7XHJcbn1cclxuIl19
