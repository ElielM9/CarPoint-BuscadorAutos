const searchIcon=document.querySelector("#search-icon"),hamburguerBtn=document.querySelector(".hamburguer"),brandSelect=document.querySelector("#brand"),yearSelect=document.querySelector("#year"),minPrice=document.querySelector("#min"),maxPrice=document.querySelector("#max"),doorsSelect=document.querySelector("#doors"),transmissionSelect=document.querySelector("#transmission"),colorSelect=document.querySelector("#color"),results=document.querySelector("#results"),searchData={year:"",brand:"",minPrice:"",maxPrice:"",doors:"",transmission:"",color:""};function startApp(){eventListeners(),showCars(cars),fillYearSelect()}function eventListeners(){searchIcon.addEventListener("click",openSearchbar),hamburguerBtn.addEventListener("click",openNav),window.addEventListener("click",closeOutsideClick),window.addEventListener("scroll",colorHeaderScroll),brandSelect.addEventListener("change",e=>{const c=e.target.value;searchData.brand=c}),yearSelect.addEventListener("change",e=>{const c=e.target.value;searchData.year=c}),minPrice.addEventListener("change",e=>{const c=e.target.value;searchData.minPrice=c}),maxPrice.addEventListener("change",e=>{const c=e.target.value;searchData.maxPrice=c}),doorsSelect.addEventListener("change",e=>{const c=e.target.value;searchData.doors=c}),transmissionSelect.addEventListener("change",e=>{const c=e.target.value;searchData.transmission=c}),colorSelect.addEventListener("change",e=>{const c=e.target.value;searchData.color=c})}function openSearchbar(){const e=document.querySelector("#search-box");e.classList.toggle("search-box--active"),e.classList.toggle("search-box__contenedor")}function openNav(){document.querySelector(".nav").classList.toggle("nav--active")}function closeOutsideClick(e){const c=e.target,t=document.querySelector("#search-box"),a=document.querySelector(".nav");t.classList.contains("search-box--active")&&c!==searchIcon&&!t.contains(c)&&t.classList.remove("search-box--active","search-box__contenedor"),a.classList.contains("nav--active")&&c!==hamburguerBtn&&a.classList.remove("nav--active"),closeOnScroll(a,t)}function closeOnScroll(e,c){window.addEventListener("scroll",()=>{e.classList.remove("nav--active"),c.classList.remove("search-box--active","search-box__contenedor")})}function colorHeaderScroll(){const e=document.querySelector(".header");if(window.scrollY>90)return e.style.backgroundColor="White",void(searchIcon.style.color="Black");e.style.backgroundColor="transparent",searchIcon.style.color="White"}function showCars(e){e.forEach(e=>{const{img:c,year:t,brand:a,model:n,price:r,doors:s,transmission:o}=e,l=`\n        <picture>\n          <source srcset="${c}.avif" type="image/avif" />\n          <source srcset="${c}.webp" type="image/webp" />\n          <img\n            class="car__img"\n            loading="lazy"\n            width="500"\n            height="300"\n            src="${c}.jpg"\n            alt=""\n          />\n        </picture>\n        <span class="car__year">${t}</span>\n        <div class="car__content">\n          <h2 class="car__model">${a} ${n}</h2>\n          <p class="car__price">\n            $${r.toLocaleString()}\n            <i class="bx bxs-star car__price--reviews">(5 Rese√±as)</i>\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-door-open car__icon"></i>\n            ${s} Puertas\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-car car__icon"></i>\n            ${o}\n          </p>\n          <div class="car__btns">\n            <a href="#" class="car__btn">Comprar</a>\n            <a href="#" class="car__details">Ver detalles</a>\n          </div>\n        </div>\n`,i=document.createElement("div");i.classList.add("car"),i.innerHTML=l,results.appendChild(i)}),fillBrandsSelect(e)}function fillBrandsSelect(e){e.forEach(e=>{const{brand:c}=e;if(!Array.from(brandSelect.options).map(e=>e.value).includes(c)){const e=document.createElement("option");e.value=c,e.textContent=c,brandSelect.appendChild(e)}})}function fillYearSelect(){const e=(new Date).getFullYear(),c=e-10;for(let t=e;t>=c;t--){const e=document.createElement("option");e.value=t,e.textContent=t,yearSelect.appendChild(e)}}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZWFyY2hJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ3VlckJ0biIsImJyYW5kU2VsZWN0IiwieWVhclNlbGVjdCIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJkb29yc1NlbGVjdCIsInRyYW5zbWlzc2lvblNlbGVjdCIsImNvbG9yU2VsZWN0IiwicmVzdWx0cyIsInNlYXJjaERhdGEiLCJ5ZWFyIiwiYnJhbmQiLCJkb29ycyIsInRyYW5zbWlzc2lvbiIsImNvbG9yIiwic3RhcnRBcHAiLCJldmVudExpc3RlbmVycyIsInNob3dDYXJzIiwiY2FycyIsImZpbGxZZWFyU2VsZWN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wZW5TZWFyY2hiYXIiLCJvcGVuTmF2Iiwid2luZG93IiwiY2xvc2VPdXRzaWRlQ2xpY2siLCJjb2xvckhlYWRlclNjcm9sbCIsImUiLCJzZWxlY3RlZFZhbHVlIiwidGFyZ2V0IiwidmFsdWUiLCJzZWFyY2hCb3giLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZWZlcmVuY2UiLCJuYXYiLCJjb250YWlucyIsInJlbW92ZSIsImNsb3NlT25TY3JvbGwiLCJoZWFkZXIiLCJzY3JvbGxZIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmb3JFYWNoIiwiY2FyIiwiaW1nIiwibW9kZWwiLCJwcmljZSIsImNhckNhcmQiLCJ0b0xvY2FsZVN0cmluZyIsImNhckhUTUwiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJmaWxsQnJhbmRzU2VsZWN0IiwiQXJyYXkiLCJmcm9tIiwib3B0aW9ucyIsIm1hcCIsImJyYW5kT3B0aW9uIiwiaW5jbHVkZXMiLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInllYXJNYXgiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJ5ZWFyTWluIiwiaSJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsV0FBYUMsU0FBU0MsY0FBYyxn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QUFLa0MsTUFBRUEsRUFBS0MsTUFBRUEsRUFBS2xDLE1BQUVBLEVBQUtDLGFBQUVBLEdBQWlCOEIsRUFDMURJLEVBQVUsa0RBRVFILDJEQUNBQSwrS0FNVEEsaUdBSWVsQyxrRkFFQ0MsS0FBU2tDLDBEQUU3QkMsRUFBTUUsdU5BS1BwQyxrSUFJQUMsZ05BU0pvQyxFQUFVbkQsU0FBU29ELGNBQWMsT0FDdkNELEVBQVFsQixVQUFVb0IsSUFBSSxPQUN0QkYsRUFBUUcsVUFBWUwsRUFFcEJ2QyxRQUFRNkMsWUFBWUosS0FHdEJLLGlCQUFpQnBDLEdBR25CLFNBQVNvQyxpQkFBaUJwQyxHQUN4QkEsRUFBS3dCLFFBQVNDLElBQ1osTUFBTWhDLE1BQUVBLEdBQVVnQyxFQUtsQixJQUpxQlksTUFBTUMsS0FBS3ZELFlBQVl3RCxTQUN6Q0MsSUFBS0MsR0FBZ0JBLEVBQVk5QixPQUNqQytCLFNBQVNqRCxHQUVPLENBQ2pCLE1BQU1rRCxFQUFTL0QsU0FBU29ELGNBQWMsVUFDdENXLEVBQU9oQyxNQUFRbEIsRUFDZmtELEVBQU9DLFlBQWNuRCxFQUVyQlYsWUFBWW9ELFlBQVlRLE1BSzlCLFNBQVMxQyxpQkFDUCxNQUFNNEMsR0FBVSxJQUFJQyxNQUFPQyxjQUNyQkMsRUFBVUgsRUFBVSxHQUUxQixJQUFLLElBQUlJLEVBQUlKLEVBQVNJLEdBQUtELEVBQVNDLElBQUssQ0FDdkMsTUFBTU4sRUFBUy9ELFNBQVNvRCxjQUFjLFVBQ3RDVyxFQUFPaEMsTUFBUXNDLEVBQ2ZOLEVBQU9DLFlBQWNLLEVBRXJCakUsV0FBV21ELFlBQVlRLElBNU0zQi9ELFNBQVNzQixpQkFBaUIsbUJBQW9CTCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWYXJpYWJsZXMgbmF2ZWdhY2lvblxyXG5jb25zdCBzZWFyY2hJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NlYXJjaC1pY29uYCk7XHJcbmNvbnN0IGhhbWJ1cmd1ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGFtYnVyZ3VlcmApO1xyXG5cclxuLy8gVmFyaWFibGVzIGZpbHRybyBkZSBidXNxdWVkYVxyXG5jb25zdCBicmFuZFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNicmFuZGApO1xyXG5jb25zdCB5ZWFyU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3llYXJgKTtcclxuY29uc3QgbWluUHJpY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjbWluYCk7XHJcbmNvbnN0IG1heFByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI21heGApO1xyXG5jb25zdCBkb29yc1NlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNkb29yc2ApO1xyXG5jb25zdCB0cmFuc21pc3Npb25TZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjdHJhbnNtaXNzaW9uYCk7XHJcbmNvbnN0IGNvbG9yU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NvbG9yYCk7XHJcblxyXG4vLyBDb250ZW5lZG9yIGRlIHJlc3VsdGFkb3NcclxuY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNyZXN1bHRzYCk7XHJcblxyXG5jb25zdCBzZWFyY2hEYXRhID0ge1xyXG4gIHllYXI6IGBgLFxyXG4gIGJyYW5kOiBgYCxcclxuICBtaW5QcmljZTogYGAsXHJcbiAgbWF4UHJpY2U6IGBgLFxyXG4gIGRvb3JzOiBgYCxcclxuICB0cmFuc21pc3Npb246IGBgLFxyXG4gIGNvbG9yOiBgYCxcclxufTtcclxuXHJcbi8vIEV2ZW50b3NcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihgRE9NQ29udGVudExvYWRlZGAsIHN0YXJ0QXBwKTtcclxuXHJcbmZ1bmN0aW9uIHN0YXJ0QXBwKCkge1xyXG4gIGV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgc2hvd0NhcnMoY2Fycyk7XHJcbiAgZmlsbFllYXJTZWxlY3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgLy8gRXZlbnRvcyBkZWwgc2VhcmNoQmFyIHkgTmF2LlxyXG5cclxuICBzZWFyY2hJY29uLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgb3BlblNlYXJjaGJhcik7XHJcbiAgaGFtYnVyZ3VlckJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIG9wZW5OYXYpO1xyXG5cclxuICAvLyBDZXJyYXIgZWwgc2VhcmNoYmFyIHkgZWwgbmF2IGFsIGhhY2VyIGNsaWNrIGVuIGN1YWxxdWllciBwYXJ0ZSBkZWwgZG9jdW1lbnRvLlxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGNsb3NlT3V0c2lkZUNsaWNrKTtcclxuICAvLyBDYW1iaWFyIGVsIGNvbG9yIGRlbCBoZWFkZXIgYWwgaGFjZXIgc2Nyb2xsLlxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBzY3JvbGxgLCBjb2xvckhlYWRlclNjcm9sbCk7XHJcblxyXG4gIC8vIEV2ZW50b3MgcGFyYSBlbCBmaWx0cm8gZGUgYsO6c3F1ZWRhLlxyXG4gIGJyYW5kU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5icmFuZCA9IHNlbGVjdGVkVmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIHllYXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLnllYXIgPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICBtaW5QcmljZS5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEubWluUHJpY2UgPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICBtYXhQcmljZS5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEubWF4UHJpY2UgPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICBkb29yc1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEuZG9vcnMgPSBzZWxlY3RlZFZhbHVlO1xyXG4gIH0pO1xyXG5cclxuICB0cmFuc21pc3Npb25TZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLnRyYW5zbWlzc2lvbiA9IHNlbGVjdGVkVmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIGNvbG9yU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5jb2xvciA9IHNlbGVjdGVkVmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIC8vIGNvbnNvbGUubG9nKHNlYXJjaERhdGEpO1xyXG59XHJcblxyXG4vLyBGdW5jaW9uZXNcclxuZnVuY3Rpb24gb3BlblNlYXJjaGJhcigpIHtcclxuICBjb25zdCBzZWFyY2hCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc2VhcmNoLWJveGApO1xyXG5cclxuICBzZWFyY2hCb3guY2xhc3NMaXN0LnRvZ2dsZShgc2VhcmNoLWJveC0tYWN0aXZlYCk7XHJcbiAgc2VhcmNoQm94LmNsYXNzTGlzdC50b2dnbGUoYHNlYXJjaC1ib3hfX2NvbnRlbmVkb3JgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk5hdigpIHtcclxuICBjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubmF2YCk7XHJcblxyXG4gIG5hdi5jbGFzc0xpc3QudG9nZ2xlKGBuYXYtLWFjdGl2ZWApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU91dHNpZGVDbGljayhlKSB7XHJcbiAgY29uc3QgcmVmZXJlbmNlID0gZS50YXJnZXQ7XHJcbiAgY29uc3Qgc2VhcmNoQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NlYXJjaC1ib3hgKTtcclxuICBjb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubmF2YCk7XHJcblxyXG4gIC8qIFxyXG4gICAgIDEtIFZlcmlmaWNhIHNpIGVsIHNlYXJjaGJhciBlc3TDoSBhYmllcnRvLlxyXG4gICAgIDItIFJldmlzYSBzaSBlbCBjbGljayBubyBvY3VycmnDsyBlbiBlbCBpY29uby4gXHJcbiAgICAgMy0gVmUgc2kgZWwgY2xpY2sgbm8gb2N1cnJpw7MgZGVudHJvIGRlbCBzZWFyY2hiYXIuXHJcbiAgKi9cclxuICBpZiAoXHJcbiAgICBzZWFyY2hCb3guY2xhc3NMaXN0LmNvbnRhaW5zKGBzZWFyY2gtYm94LS1hY3RpdmVgKSAmJlxyXG4gICAgcmVmZXJlbmNlICE9PSBzZWFyY2hJY29uICYmXHJcbiAgICAhc2VhcmNoQm94LmNvbnRhaW5zKHJlZmVyZW5jZSlcclxuICApIHtcclxuICAgIC8vIENpZXJyYSBlbCBzZWFyY2hCYXIgYWwgZWxpbWluYXIgbGEgY2xhc2UgcXVlIGxvIGhhY2UgdmlzaWJsZVxyXG4gICAgc2VhcmNoQm94LmNsYXNzTGlzdC5yZW1vdmUoYHNlYXJjaC1ib3gtLWFjdGl2ZWAsIGBzZWFyY2gtYm94X19jb250ZW5lZG9yYCk7XHJcbiAgfVxyXG5cclxuICAvKiBcclxuICAgIDEtIFZlcmlmaWNhIHNpIGxhIGNsYXNlIGBuYXYtLWFjdGl2ZWAgZXhpc3RlLlxyXG4gICAgMi0gUmV2aXNhIHNpIGVsIGNsaWNrIG5vIG9jdXJyacOzIGVuIGVsIGJvdG9uIGhhbWJ1cmd1ZXNhLlxyXG4gICovXHJcbiAgaWYgKG5hdi5jbGFzc0xpc3QuY29udGFpbnMoYG5hdi0tYWN0aXZlYCkgJiYgcmVmZXJlbmNlICE9PSBoYW1idXJndWVyQnRuKSB7XHJcbiAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZShgbmF2LS1hY3RpdmVgKTtcclxuICB9XHJcblxyXG4gIGNsb3NlT25TY3JvbGwobmF2LCBzZWFyY2hCb3gpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU9uU2Nyb2xsKG5hdiwgc2VhcmNoQm94KSB7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYHNjcm9sbGAsICgpID0+IHtcclxuICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKGBuYXYtLWFjdGl2ZWApO1xyXG4gICAgc2VhcmNoQm94LmNsYXNzTGlzdC5yZW1vdmUoYHNlYXJjaC1ib3gtLWFjdGl2ZWAsIGBzZWFyY2gtYm94X19jb250ZW5lZG9yYCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbG9ySGVhZGVyU2Nyb2xsKCkge1xyXG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5oZWFkZXJgKTtcclxuICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICBpZiAoc2Nyb2xsUG9zaXRpb24gPiA5MCkge1xyXG4gICAgaGVhZGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiV2hpdGVcIjtcclxuICAgIHNlYXJjaEljb24uc3R5bGUuY29sb3IgPSBgQmxhY2tgO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaGVhZGVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGB0cmFuc3BhcmVudGA7XHJcbiAgc2VhcmNoSWNvbi5zdHlsZS5jb2xvciA9IGBXaGl0ZWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dDYXJzKGNhcnMpIHtcclxuICBjYXJzLmZvckVhY2goKGNhcikgPT4ge1xyXG4gICAgY29uc3QgeyBpbWcsIHllYXIsIGJyYW5kLCBtb2RlbCwgcHJpY2UsIGRvb3JzLCB0cmFuc21pc3Npb24gfSA9IGNhcjtcclxuICAgIGNvbnN0IGNhckNhcmQgPSBgXHJcbiAgICAgICAgPHBpY3R1cmU+XHJcbiAgICAgICAgICA8c291cmNlIHNyY3NldD1cIiR7aW1nfS5hdmlmXCIgdHlwZT1cImltYWdlL2F2aWZcIiAvPlxyXG4gICAgICAgICAgPHNvdXJjZSBzcmNzZXQ9XCIke2ltZ30ud2VicFwiIHR5cGU9XCJpbWFnZS93ZWJwXCIgLz5cclxuICAgICAgICAgIDxpbWdcclxuICAgICAgICAgICAgY2xhc3M9XCJjYXJfX2ltZ1wiXHJcbiAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcclxuICAgICAgICAgICAgd2lkdGg9XCI1MDBcIlxyXG4gICAgICAgICAgICBoZWlnaHQ9XCIzMDBcIlxyXG4gICAgICAgICAgICBzcmM9XCIke2ltZ30uanBnXCJcclxuICAgICAgICAgICAgYWx0PVwiXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9waWN0dXJlPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyX195ZWFyXCI+JHt5ZWFyfTwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyX19jb250ZW50XCI+XHJcbiAgICAgICAgICA8aDIgY2xhc3M9XCJjYXJfX21vZGVsXCI+JHticmFuZH0gJHttb2RlbH08L2gyPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJjYXJfX3ByaWNlXCI+XHJcbiAgICAgICAgICAgICQke3ByaWNlLnRvTG9jYWxlU3RyaW5nKCl9XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiYnggYnhzLXN0YXIgY2FyX19wcmljZS0tcmV2aWV3c1wiPig1IFJlc2XDsWFzKTwvaT5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19jaGFyYWN0ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtZG9vci1vcGVuIGNhcl9faWNvblwiPjwvaT5cclxuICAgICAgICAgICAgJHtkb29yc30gUHVlcnRhc1xyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJjYXJfX2NoYXJhY3RlclwiPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImJ4IGJ4cy1jYXIgY2FyX19pY29uXCI+PC9pPlxyXG4gICAgICAgICAgICAke3RyYW5zbWlzc2lvbn1cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJfX2J0bnNcIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcl9fYnRuXCI+Q29tcHJhcjwvYT5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcl9fZGV0YWlsc1wiPlZlciBkZXRhbGxlczwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5gO1xyXG5cclxuICAgIGNvbnN0IGNhckhUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcclxuICAgIGNhckhUTUwuY2xhc3NMaXN0LmFkZChgY2FyYCk7XHJcbiAgICBjYXJIVE1MLmlubmVySFRNTCA9IGNhckNhcmQ7XHJcblxyXG4gICAgcmVzdWx0cy5hcHBlbmRDaGlsZChjYXJIVE1MKTtcclxuICB9KTtcclxuXHJcbiAgZmlsbEJyYW5kc1NlbGVjdChjYXJzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbEJyYW5kc1NlbGVjdChjYXJzKSB7XHJcbiAgY2Fycy5mb3JFYWNoKChjYXIpID0+IHtcclxuICAgIGNvbnN0IHsgYnJhbmQgfSA9IGNhcjtcclxuICAgIGNvbnN0IGJyYW5kT3B0aW9ucyA9IEFycmF5LmZyb20oYnJhbmRTZWxlY3Qub3B0aW9ucylcclxuICAgICAgLm1hcCgoYnJhbmRPcHRpb24pID0+IGJyYW5kT3B0aW9uLnZhbHVlKVxyXG4gICAgICAuaW5jbHVkZXMoYnJhbmQpO1xyXG5cclxuICAgIGlmICghYnJhbmRPcHRpb25zKSB7XHJcbiAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYG9wdGlvbmApO1xyXG4gICAgICBvcHRpb24udmFsdWUgPSBicmFuZDtcclxuICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYnJhbmQ7XHJcblxyXG4gICAgICBicmFuZFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsWWVhclNlbGVjdCgpIHtcclxuICBjb25zdCB5ZWFyTWF4ID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG4gIGNvbnN0IHllYXJNaW4gPSB5ZWFyTWF4IC0gMTA7XHJcblxyXG4gIGZvciAobGV0IGkgPSB5ZWFyTWF4OyBpID49IHllYXJNaW47IGktLSkge1xyXG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgb3B0aW9uYCk7XHJcbiAgICBvcHRpb24udmFsdWUgPSBpO1xyXG4gICAgb3B0aW9uLnRleHRDb250ZW50ID0gaTtcclxuXHJcbiAgICB5ZWFyU2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XHJcbiAgfVxyXG59XHJcbiJdfQ==
