const searchIcon=document.querySelector("#search-icon"),hamburguerBtn=document.querySelector(".hamburguer"),brandSelect=document.querySelector("#brand"),yearSelect=document.querySelector("#year"),minPrice=document.querySelector("#min"),maxPrice=document.querySelector("#max"),doorsSelect=document.querySelector("#doors"),transmissionSelect=document.querySelector("#transmission"),colorSelect=document.querySelector("#color"),results=document.querySelector("#results"),searchData={year:"",brand:"",minPrice:"",maxPrice:"",doors:"",transmission:"",color:""};function startApp(){eventListeners(),showCars(cars),fillCarsSelects(cars)}function eventListeners(){searchIcon.addEventListener("click",openSearchbar),hamburguerBtn.addEventListener("click",openNav),window.addEventListener("click",closeOutsideClick),window.addEventListener("scroll",colorHeaderScroll),brandSelect.addEventListener("change",e=>{const r=e.target.value;searchData.brand=r,filterCar()}),yearSelect.addEventListener("change",e=>{const r=parseInt(e.target.value);searchData.year=r,filterCar()}),minPrice.addEventListener("change",e=>{const r=e.target.value;searchData.minPrice=r,filterCar()}),maxPrice.addEventListener("change",e=>{const r=e.target.value;searchData.maxPrice=r,filterCar()}),doorsSelect.addEventListener("change",e=>{const r=e.target.value;searchData.doors=r,filterCar()}),transmissionSelect.addEventListener("change",e=>{const r=e.target.value;searchData.transmission=r,filterCar()}),colorSelect.addEventListener("change",e=>{const r=e.target.value;searchData.color=r,filterCar()})}function openSearchbar(){const e=document.querySelector("#search-box");e.classList.toggle("search-box--active"),e.classList.toggle("search-box__contenedor")}function openNav(){document.querySelector(".nav").classList.toggle("nav--active")}function closeOutsideClick(e){const r=e.target,t=document.querySelector("#search-box"),n=document.querySelector(".nav");t.classList.contains("search-box--active")&&r!==searchIcon&&!t.contains(r)&&t.classList.remove("search-box--active","search-box__contenedor"),n.classList.contains("nav--active")&&r!==hamburguerBtn&&n.classList.remove("nav--active"),closeOnScroll(n,t)}function closeOnScroll(e,r){window.addEventListener("scroll",()=>{e.classList.remove("nav--active"),r.classList.remove("search-box--active","search-box__contenedor")})}function colorHeaderScroll(){const e=document.querySelector(".header"),r=window.scrollY;e.classList.toggle("header__bg",r>100)}function showCars(e){cleanHTML(),e.forEach(e=>{const{img:r,year:t,brand:n,model:a,price:c,doors:s,transmission:o}=e;let i=Math.floor(100*Math.random());const l=`\n        <picture>\n          <source srcset="${r}.avif" type="image/avif" />\n          <source srcset="${r}.webp" type="image/webp" />\n          <img\n            class="car__img"\n            loading="lazy"\n            width="500"\n            height="300"\n            src="${r}.jpg"\n            alt=""\n          />\n        </picture>\n        <span class="car__year">${t}</span>\n        <div class="car__content">\n          <h2 class="car__model">${n} ${a}</h2>\n          <p class="car__price">\n            $${c.toLocaleString()}\n            <i class="bx bxs-star car__price--reviews">(${i} Rese√±as)</i>\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-door-open car__icon"></i>\n            ${s} Puertas\n          </p>\n          <p class="car__character">\n            <i class="bx bxs-car car__icon"></i>\n            ${o}\n          </p>\n          <div class="car__btns">\n            <a href="#" class="car__btn">Comprar</a>\n            <a href="#" class="car__details">Ver detalles</a>\n          </div>\n        </div>\n`,d=document.createElement("div");d.classList.add("car"),d.innerHTML=l,results.appendChild(d)})}function cleanHTML(){for(;results.firstChild;)results.removeChild(results.firstChild)}function fillCarsSelects(e){fillSelect(e.map(({brand:e})=>e).filter((e,r,t)=>t.indexOf(e)===r),brandSelect),fillSelect(e.map(({doors:e})=>e).filter((e,r,t)=>t.indexOf(e)===r),doorsSelect),fillSelect(e.map(({color:e})=>e).filter((e,r,t)=>t.indexOf(e)===r),colorSelect),fillYearSelect()}function fillYearSelect(){const e=(new Date).getFullYear(),r=e-10;for(let t=e;t>=r;t--){const e=createOption(t);yearSelect.appendChild(e)}}function fillSelect(e,r){e.forEach(e=>{const t=createOption(e);r.appendChild(t)})}function createOption(e){const r=document.createElement("option");return r.value=e,r.textContent=e,r}function filterCar(){const e=cars.filter(filterBrand).filter(filterYear).filter(filterPrice).filter(filterDoors).filter(filterTransmission).filter(filterColor);e.length?showCars(e):noResults()}function noResults(){cleanHTML();const e=document.createElement("p");e.classList.add("alerta","error"),e.textContent="No se encontraron resultados, prueba de nuevo",results.appendChild(e)}function filterBrand(e){const{brand:r}=searchData;return r?e.brand===r:e}function filterYear(e){const{year:r}=searchData;return r?e.year===r:e}function filterPrice(e){const{minPrice:r,maxPrice:t}=searchData;return r&&t?e.price>=r&&e.price<=t:r?e.price>=r:t?e.price<=t:e}function filterDoors(e){const{doors:r}=searchData;return r?e.doors===parseInt(r):e}function filterTransmission(e){const{transmission:r}=searchData;return r?e.transmission.toLowerCase()==r:e}function filterColor(e){const{color:r}=searchData;return r?e.color===r:e}document.addEventListener("DOMContentLoaded",startApp);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJzZWFyY2hJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaGFtYnVyZ3VlckJ0biIsImJyYW5kU2VsZWN0IiwieWVhclNlbGVjdCIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJkb29yc1NlbGVjdCIsInRyYW5zbWlzc2lvblNlbGVjdCIsImNvbG9yU2VsZWN0IiwicmVzdWx0cyIsInNlYXJjaERhdGEiLCJ5ZWFyIiwiYnJhbmQiLCJkb29ycyIsInRyYW5zbWlzc2lvbiIsImNvbG9yIiwic3RhcnRBcHAiLCJldmVudExpc3RlbmVycyIsInNob3dDYXJzIiwiY2FycyIsImZpbGxDYXJzU2VsZWN0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvcGVuU2VhcmNoYmFyIiwib3Blbk5hdiIsIndpbmRvdyIsImNsb3NlT3V0c2lkZUNsaWNrIiwiY29sb3JIZWFkZXJTY3JvbGwiLCJlIiwic2VsZWN0ZWRWYWx1ZSIsInRhcmdldCIsInZhbHVlIiwiZmlsdGVyQ2FyIiwicGFyc2VJbnQiLCJzZWFyY2hCb3giLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZWZlcmVuY2UiLCJuYXYiLCJjb250YWlucyIsInJlbW92ZSIsImNsb3NlT25TY3JvbGwiLCJoZWFkZXIiLCJzY3JvbGxQb3NZIiwic2Nyb2xsWSIsImNsZWFuSFRNTCIsImZvckVhY2giLCJjYXIiLCJpbWciLCJtb2RlbCIsInByaWNlIiwicmFuZG9tTnVtYmVyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY2FyQ2FyZCIsInRvTG9jYWxlU3RyaW5nIiwiY2FySFRNTCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImZpbGxTZWxlY3QiLCJtYXAiLCJmaWx0ZXIiLCJpbmRleCIsImNhckJyYW5kcyIsImluZGV4T2YiLCJjYXJEb29ycyIsImNhckNvbG9ycyIsImZpbGxZZWFyU2VsZWN0IiwieWVhck1heCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsInllYXJNaW4iLCJpIiwib3B0aW9uIiwiY3JlYXRlT3B0aW9uIiwiY2Fyc0RhdGEiLCJzZWxlY3RFbGVtZW50IiwiY2FyRGF0YSIsInRleHRDb250ZW50IiwicmVzdWx0IiwiZmlsdGVyQnJhbmQiLCJmaWx0ZXJZZWFyIiwiZmlsdGVyUHJpY2UiLCJmaWx0ZXJEb29ycyIsImZpbHRlclRyYW5zbWlzc2lvbiIsImZpbHRlckNvbG9yIiwibGVuZ3RoIiwibm9SZXN1bHRzIiwibm9SZXN1bHQiLCJ0b0xvd2VyQ2FzZSJdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTUEsV0FBYUMsU0FBU0MsY0FBYyxnQkFDcENDLGNBQWdCRixTQUFTQyxjQUFjLGVBR3ZDRSxZQUFjSCxTQUFTQyxjQUFjLFVBQ3JDRyxXQUFhSixTQUFTQyxjQUFjLFNBQ3BDSSxTQUFXTCxTQUFTQyxjQUFjLFFBQ2xDSyxTQUFXTixTQUFTQyxjQUFjLFFBQ2xDTSxZQUFjUCxTQUFTQyxjQUFjLFVBQ3JDTyxtQkFBcUJSLFNBQVNDLGNBQWMsaUJBQzVDUSxZQUFjVCxTQUFTQyxjQUFjLFVBR3JDUyxRQUFVVixTQUFTQyxjQUFjLFlBRWpDVSxXQUFhLENBQ2pCQyxLQUFNLEdBQ05DLE1BQU8sR0FDUFIsU0FBVSxHQUNWQyxTQUFVLEdBQ1ZRLE1BQU8sR0FDUEMsYUFBYyxHQUNkQyxNQUFPLElBTVQsU0FBU0MsV0FDUEMsaUJBQ0FDLFNBQVNDLE1BQ1RDLGdCQUFnQkQsTUFHbEIsU0FBU0YsaUJBR1BuQixXQUFXdUIsaUJBQWlCLFFBQVNDLGVBQ3JDckIsY0FBY29CLGlCQUFpQixRQUFTRSxTQUd4Q0MsT0FBT0gsaUJBQWlCLFFBQVNJLG1CQUVqQ0QsT0FBT0gsaUJBQWlCLFNBQVVLLG1CQUdsQ3hCLFlBQVltQixpQkFBaUIsU0FBV00sSUFDdEMsTUFBTUMsRUFBZ0JELEVBQUVFLE9BQU9DLE1BRS9CcEIsV0FBV0UsTUFBUWdCLEVBRW5CRyxjQUdGNUIsV0FBV2tCLGlCQUFpQixTQUFXTSxJ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R1QsU0FBU3dDLFlBQVl4QyxHQUNuQixNQUFNMUMsU0FBRUEsRUFBUUMsU0FBRUEsR0FBYUssV0FFL0IsT0FBSU4sR0FBWUMsRUFDUHlDLEVBQUlHLE9BQVM3QyxHQUFZMEMsRUFBSUcsT0FBUzVDLEVBRzNDRCxFQUNLMEMsRUFBSUcsT0FBUzdDLEVBQ1hDLEVBQ0Z5QyxFQUFJRyxPQUFTNUMsRUFHZnlDLEVBR1QsU0FBU3lDLFlBQVl6QyxHQUNuQixNQUFNakMsTUFBRUEsR0FBVUgsV0FFbEIsT0FBSUcsRUFDS2lDLEVBQUlqQyxRQUFVbUIsU0FBU25CLEdBR3pCaUMsRUFHVCxTQUFTMEMsbUJBQW1CMUMsR0FDMUIsTUFBTWhDLGFBQUVBLEdBQWlCSixXQUV6QixPQUFJSSxFQUNLZ0MsRUFBSWhDLGFBQWErRSxlQUFpQi9FLEVBR3BDZ0MsRUFHVCxTQUFTMkMsWUFBWTNDLEdBQ25CLE1BQU0vQixNQUFFQSxHQUFVTCxXQUVsQixPQUFJSyxFQUNLK0IsRUFBSS9CLFFBQVVBLEVBR2hCK0IsRUF4VVQvQyxTQUFTc0IsaUJBQWlCLG1CQUFvQkwiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVmFyaWFibGVzIG5hdmVnYWNpb25cclxuY29uc3Qgc2VhcmNoSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzZWFyY2gtaWNvbmApO1xyXG5jb25zdCBoYW1idXJndWVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmhhbWJ1cmd1ZXJgKTtcclxuXHJcbi8vIFZhcmlhYmxlcyBmaWx0cm8gZGUgYnVzcXVlZGFcclxuY29uc3QgYnJhbmRTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjYnJhbmRgKTtcclxuY29uc3QgeWVhclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCN5ZWFyYCk7XHJcbmNvbnN0IG1pblByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI21pbmApO1xyXG5jb25zdCBtYXhQcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNtYXhgKTtcclxuY29uc3QgZG9vcnNTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjZG9vcnNgKTtcclxuY29uc3QgdHJhbnNtaXNzaW9uU2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3RyYW5zbWlzc2lvbmApO1xyXG5jb25zdCBjb2xvclNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjb2xvcmApO1xyXG5cclxuLy8gQ29udGVuZWRvciBkZSByZXN1bHRhZG9zXHJcbmNvbnN0IHJlc3VsdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcmVzdWx0c2ApO1xyXG5cclxuY29uc3Qgc2VhcmNoRGF0YSA9IHtcclxuICB5ZWFyOiBgYCxcclxuICBicmFuZDogYGAsXHJcbiAgbWluUHJpY2U6IGBgLFxyXG4gIG1heFByaWNlOiBgYCxcclxuICBkb29yczogYGAsXHJcbiAgdHJhbnNtaXNzaW9uOiBgYCxcclxuICBjb2xvcjogYGAsXHJcbn07XHJcblxyXG4vLyBFdmVudG9zXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYERPTUNvbnRlbnRMb2FkZWRgLCBzdGFydEFwcCk7XHJcblxyXG5mdW5jdGlvbiBzdGFydEFwcCgpIHtcclxuICBldmVudExpc3RlbmVycygpO1xyXG4gIHNob3dDYXJzKGNhcnMpO1xyXG4gIGZpbGxDYXJzU2VsZWN0cyhjYXJzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgLy8gRXZlbnRvcyBkZWwgc2VhcmNoQmFyIHkgTmF2LlxyXG5cclxuICBzZWFyY2hJY29uLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgb3BlblNlYXJjaGJhcik7XHJcbiAgaGFtYnVyZ3VlckJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIG9wZW5OYXYpO1xyXG5cclxuICAvLyBDZXJyYXIgZWwgc2VhcmNoYmFyIHkgZWwgbmF2IGFsIGhhY2VyIGNsaWNrIGVuIGN1YWxxdWllciBwYXJ0ZSBkZWwgZG9jdW1lbnRvLlxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGNsb3NlT3V0c2lkZUNsaWNrKTtcclxuICAvLyBDYW1iaWFyIGVsIGNvbG9yIGRlbCBoZWFkZXIgYWwgaGFjZXIgc2Nyb2xsLlxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBzY3JvbGxgLCBjb2xvckhlYWRlclNjcm9sbCk7XHJcblxyXG4gIC8vIEV2ZW50b3MgcGFyYSBlbCBmaWx0cm8gZGUgYsO6c3F1ZWRhLlxyXG4gIGJyYW5kU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS5icmFuZCA9IHNlbGVjdGVkVmFsdWU7XHJcblxyXG4gICAgZmlsdGVyQ2FyKCk7XHJcbiAgfSk7XHJcblxyXG4gIHllYXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSk7XHJcblxyXG4gICAgc2VhcmNoRGF0YS55ZWFyID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgbWluUHJpY2UuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLm1pblByaWNlID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgbWF4UHJpY2UuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLm1heFByaWNlID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgZG9vcnNTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihgY2hhbmdlYCwgKGUpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICBzZWFyY2hEYXRhLmRvb3JzID0gc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICBmaWx0ZXJDYXIoKTtcclxuICB9KTtcclxuXHJcbiAgdHJhbnNtaXNzaW9uU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoYGNoYW5nZWAsIChlKSA9PiB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgc2VhcmNoRGF0YS50cmFuc21pc3Npb24gPSBzZWxlY3RlZFZhbHVlO1xyXG5cclxuICAgIGZpbHRlckNhcigpO1xyXG4gIH0pO1xyXG5cclxuICBjb2xvclNlbGVjdC5hZGRFdmVudExpc3RlbmVyKGBjaGFuZ2VgLCAoZSkgPT4ge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xyXG5cclxuICAgIHNlYXJjaERhdGEuY29sb3IgPSBzZWxlY3RlZFZhbHVlO1xyXG5cclxuICAgIGZpbHRlckNhcigpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBjb25zb2xlLmxvZyhzZWFyY2hEYXRhKTtcclxufVxyXG5cclxuLy8gRnVuY2lvbmVzXHJcbmZ1bmN0aW9uIG9wZW5TZWFyY2hiYXIoKSB7XHJcbiAgY29uc3Qgc2VhcmNoQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3NlYXJjaC1ib3hgKTtcclxuXHJcbiAgc2VhcmNoQm94LmNsYXNzTGlzdC50b2dnbGUoYHNlYXJjaC1ib3gtLWFjdGl2ZWApO1xyXG4gIHNlYXJjaEJveC5jbGFzc0xpc3QudG9nZ2xlKGBzZWFyY2gtYm94X19jb250ZW5lZG9yYCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5OYXYoKSB7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmApO1xyXG5cclxuICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShgbmF2LS1hY3RpdmVgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VPdXRzaWRlQ2xpY2soZSkge1xyXG4gIGNvbnN0IHJlZmVyZW5jZSA9IGUudGFyZ2V0O1xyXG4gIGNvbnN0IHNlYXJjaEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzZWFyY2gtYm94YCk7XHJcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdmApO1xyXG5cclxuICAvKiBcclxuICAgICAxLSBWZXJpZmljYSBzaSBlbCBzZWFyY2hiYXIgZXN0w6EgYWJpZXJ0by5cclxuICAgICAyLSBSZXZpc2Egc2kgZWwgY2xpY2sgbm8gb2N1cnJpw7MgZW4gZWwgaWNvbm8uIFxyXG4gICAgIDMtIFZlIHNpIGVsIGNsaWNrIG5vIG9jdXJyacOzIGRlbnRybyBkZWwgc2VhcmNoYmFyLlxyXG4gICovXHJcbiAgaWYgKFxyXG4gICAgc2VhcmNoQm94LmNsYXNzTGlzdC5jb250YWlucyhgc2VhcmNoLWJveC0tYWN0aXZlYCkgJiZcclxuICAgIHJlZmVyZW5jZSAhPT0gc2VhcmNoSWNvbiAmJlxyXG4gICAgIXNlYXJjaEJveC5jb250YWlucyhyZWZlcmVuY2UpXHJcbiAgKSB7XHJcbiAgICAvLyBDaWVycmEgZWwgc2VhcmNoQmFyIGFsIGVsaW1pbmFyIGxhIGNsYXNlIHF1ZSBsbyBoYWNlIHZpc2libGVcclxuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QucmVtb3ZlKGBzZWFyY2gtYm94LS1hY3RpdmVgLCBgc2VhcmNoLWJveF9fY29udGVuZWRvcmApO1xyXG4gIH1cclxuXHJcbiAgLyogXHJcbiAgICAxLSBWZXJpZmljYSBzaSBsYSBjbGFzZSBgbmF2LS1hY3RpdmVgIGV4aXN0ZS5cclxuICAgIDItIFJldmlzYSBzaSBlbCBjbGljayBubyBvY3VycmnDsyBlbiBlbCBib3RvbiBoYW1idXJndWVzYS5cclxuICAqL1xyXG4gIGlmIChuYXYuY2xhc3NMaXN0LmNvbnRhaW5zKGBuYXYtLWFjdGl2ZWApICYmIHJlZmVyZW5jZSAhPT0gaGFtYnVyZ3VlckJ0bikge1xyXG4gICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoYG5hdi0tYWN0aXZlYCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZU9uU2Nyb2xsKG5hdiwgc2VhcmNoQm94KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VPblNjcm9sbChuYXYsIHNlYXJjaEJveCkge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGBzY3JvbGxgLCAoKSA9PiB7XHJcbiAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZShgbmF2LS1hY3RpdmVgKTtcclxuICAgIHNlYXJjaEJveC5jbGFzc0xpc3QucmVtb3ZlKGBzZWFyY2gtYm94LS1hY3RpdmVgLCBgc2VhcmNoLWJveF9fY29udGVuZWRvcmApO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb2xvckhlYWRlclNjcm9sbCgpIHtcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaGVhZGVyYCk7XHJcbiAgY29uc3Qgc2Nyb2xsUG9zWSA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZShgaGVhZGVyX19iZ2AsIHNjcm9sbFBvc1kgPiAxMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93Q2FycyhjYXJzKSB7XHJcbiAgLy8gTGltcGlhIGVsIEhUTUwgcHJldmlvXHJcbiAgY2xlYW5IVE1MKCk7XHJcblxyXG4gIGNhcnMuZm9yRWFjaCgoY2FyKSA9PiB7XHJcbiAgICBjb25zdCB7IGltZywgeWVhciwgYnJhbmQsIG1vZGVsLCBwcmljZSwgZG9vcnMsIHRyYW5zbWlzc2lvbiB9ID0gY2FyO1xyXG4gICAgbGV0IHJhbmRvbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcbiAgICBjb25zdCBjYXJDYXJkID0gYFxyXG4gICAgICAgIDxwaWN0dXJlPlxyXG4gICAgICAgICAgPHNvdXJjZSBzcmNzZXQ9XCIke2ltZ30uYXZpZlwiIHR5cGU9XCJpbWFnZS9hdmlmXCIgLz5cclxuICAgICAgICAgIDxzb3VyY2Ugc3Jjc2V0PVwiJHtpbWd9LndlYnBcIiB0eXBlPVwiaW1hZ2Uvd2VicFwiIC8+XHJcbiAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgIGNsYXNzPVwiY2FyX19pbWdcIlxyXG4gICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXHJcbiAgICAgICAgICAgIHdpZHRoPVwiNTAwXCJcclxuICAgICAgICAgICAgaGVpZ2h0PVwiMzAwXCJcclxuICAgICAgICAgICAgc3JjPVwiJHtpbWd9LmpwZ1wiXHJcbiAgICAgICAgICAgIGFsdD1cIlwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgIDwvcGljdHVyZT5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImNhcl9feWVhclwiPiR7eWVhcn08L3NwYW4+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcl9fY29udGVudFwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzPVwiY2FyX19tb2RlbFwiPiR7YnJhbmR9ICR7bW9kZWx9PC9oMj5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19wcmljZVwiPlxyXG4gICAgICAgICAgICAkJHtwcmljZS50b0xvY2FsZVN0cmluZygpfVxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImJ4IGJ4cy1zdGFyIGNhcl9fcHJpY2UtLXJldmlld3NcIj4oJHtyYW5kb21OdW1iZXJ9IFJlc2XDsWFzKTwvaT5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiY2FyX19jaGFyYWN0ZXJcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJieCBieHMtZG9vci1vcGVuIGNhcl9faWNvblwiPjwvaT5cclxuICAgICAgICAgICAgJHtkb29yc30gUHVlcnRhc1xyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJjYXJfX2NoYXJhY3RlclwiPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImJ4IGJ4cy1jYXIgY2FyX19pY29uXCI+PC9pPlxyXG4gICAgICAgICAgICAke3RyYW5zbWlzc2lvbn1cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJfX2J0bnNcIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcl9fYnRuXCI+Q29tcHJhcjwvYT5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNhcl9fZGV0YWlsc1wiPlZlciBkZXRhbGxlczwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5gO1xyXG5cclxuICAgIGNvbnN0IGNhckhUTUwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGBkaXZgKTtcclxuICAgIGNhckhUTUwuY2xhc3NMaXN0LmFkZChgY2FyYCk7XHJcbiAgICBjYXJIVE1MLmlubmVySFRNTCA9IGNhckNhcmQ7XHJcblxyXG4gICAgcmVzdWx0cy5hcHBlbmRDaGlsZChjYXJIVE1MKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYW5IVE1MKCkge1xyXG4gIHdoaWxlIChyZXN1bHRzLmZpcnN0Q2hpbGQpIHtcclxuICAgIHJlc3VsdHMucmVtb3ZlQ2hpbGQocmVzdWx0cy5maXJzdENoaWxkKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxDYXJzU2VsZWN0cyhjYXJzKSB7XHJcbiAgbGV0IGNhckJyYW5kcyA9IGNhcnNcclxuICAgIC5tYXAoKHsgYnJhbmQgfSkgPT4gYnJhbmQpXHJcbiAgICAuZmlsdGVyKChicmFuZCwgaW5kZXgsIGNhckJyYW5kcykgPT4gY2FyQnJhbmRzLmluZGV4T2YoYnJhbmQpID09PSBpbmRleCk7XHJcblxyXG4gIGZpbGxTZWxlY3QoY2FyQnJhbmRzLCBicmFuZFNlbGVjdCk7XHJcblxyXG4gIGxldCBjYXJEb29ycyA9IGNhcnNcclxuICAgIC5tYXAoKHsgZG9vcnMgfSkgPT4gZG9vcnMpXHJcbiAgICAuZmlsdGVyKChkb29ycywgaW5kZXgsIGNhckRvb3JzKSA9PiBjYXJEb29ycy5pbmRleE9mKGRvb3JzKSA9PT0gaW5kZXgpO1xyXG5cclxuICBmaWxsU2VsZWN0KGNhckRvb3JzLCBkb29yc1NlbGVjdCk7XHJcblxyXG4gIGxldCBjYXJDb2xvcnMgPSBjYXJzXHJcbiAgICAubWFwKCh7IGNvbG9yIH0pID0+IGNvbG9yKVxyXG4gICAgLmZpbHRlcigoY29sb3IsIGluZGV4LCBjYXJDb2xvcnMpID0+IGNhckNvbG9ycy5pbmRleE9mKGNvbG9yKSA9PT0gaW5kZXgpO1xyXG5cclxuICBmaWxsU2VsZWN0KGNhckNvbG9ycywgY29sb3JTZWxlY3QpO1xyXG5cclxuICBmaWxsWWVhclNlbGVjdCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsWWVhclNlbGVjdCgpIHtcclxuICBjb25zdCB5ZWFyTWF4ID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG4gIGNvbnN0IHllYXJNaW4gPSB5ZWFyTWF4IC0gMTA7XHJcblxyXG4gIGZvciAobGV0IGkgPSB5ZWFyTWF4OyBpID49IHllYXJNaW47IGktLSkge1xyXG4gICAgY29uc3Qgb3B0aW9uID0gY3JlYXRlT3B0aW9uKGkpO1xyXG4gICAgeWVhclNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbFNlbGVjdChjYXJzRGF0YSwgc2VsZWN0RWxlbWVudCkge1xyXG4gIGNhcnNEYXRhLmZvckVhY2goKGNhckRhdGEpID0+IHtcclxuICAgIGNvbnN0IG9wdGlvbiA9IGNyZWF0ZU9wdGlvbihjYXJEYXRhKTtcclxuICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uKHZhbHVlKSB7XHJcbiAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgb3B0aW9uYCk7XHJcbiAgb3B0aW9uLnZhbHVlID0gdmFsdWU7XHJcbiAgb3B0aW9uLnRleHRDb250ZW50ID0gdmFsdWU7XHJcblxyXG4gIHJldHVybiBvcHRpb247XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbHRlckNhcigpIHtcclxuICBjb25zdCByZXN1bHQgPSBjYXJzXHJcbiAgICAuZmlsdGVyKGZpbHRlckJyYW5kKVxyXG4gICAgLmZpbHRlcihmaWx0ZXJZZWFyKVxyXG4gICAgLmZpbHRlcihmaWx0ZXJQcmljZSlcclxuICAgIC5maWx0ZXIoZmlsdGVyRG9vcnMpXHJcbiAgICAuZmlsdGVyKGZpbHRlclRyYW5zbWlzc2lvbilcclxuICAgIC5maWx0ZXIoZmlsdGVyQ29sb3IpO1xyXG5cclxuICBpZiAocmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgc2hvd0NhcnMocmVzdWx0KTtcclxuICB9IGVsc2Uge1xyXG4gICAgbm9SZXN1bHRzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBub1Jlc3VsdHMoKSB7XHJcbiAgY2xlYW5IVE1MKCk7XHJcblxyXG4gIGNvbnN0IG5vUmVzdWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgcGApO1xyXG4gIG5vUmVzdWx0LmNsYXNzTGlzdC5hZGQoYGFsZXJ0YWAsIGBlcnJvcmApO1xyXG4gIG5vUmVzdWx0LnRleHRDb250ZW50ID0gYE5vIHNlIGVuY29udHJhcm9uIHJlc3VsdGFkb3MsIHBydWViYSBkZSBudWV2b2A7XHJcblxyXG4gIHJlc3VsdHMuYXBwZW5kQ2hpbGQobm9SZXN1bHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJCcmFuZChjYXIpIHtcclxuICBjb25zdCB7IGJyYW5kIH0gPSBzZWFyY2hEYXRhO1xyXG4gIGlmIChicmFuZCkge1xyXG4gICAgcmV0dXJuIGNhci5icmFuZCA9PT0gYnJhbmQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJZZWFyKGNhcikge1xyXG4gIGNvbnN0IHsgeWVhciB9ID0gc2VhcmNoRGF0YTtcclxuXHJcbiAgaWYgKHllYXIpIHtcclxuICAgIHJldHVybiBjYXIueWVhciA9PT0geWVhcjtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbHRlclByaWNlKGNhcikge1xyXG4gIGNvbnN0IHsgbWluUHJpY2UsIG1heFByaWNlIH0gPSBzZWFyY2hEYXRhO1xyXG5cclxuICBpZiAobWluUHJpY2UgJiYgbWF4UHJpY2UpIHtcclxuICAgIHJldHVybiBjYXIucHJpY2UgPj0gbWluUHJpY2UgJiYgY2FyLnByaWNlIDw9IG1heFByaWNlO1xyXG4gIH1cclxuXHJcbiAgaWYgKG1pblByaWNlKSB7XHJcbiAgICByZXR1cm4gY2FyLnByaWNlID49IG1pblByaWNlO1xyXG4gIH0gZWxzZSBpZiAobWF4UHJpY2UpIHtcclxuICAgIHJldHVybiBjYXIucHJpY2UgPD0gbWF4UHJpY2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJEb29ycyhjYXIpIHtcclxuICBjb25zdCB7IGRvb3JzIH0gPSBzZWFyY2hEYXRhO1xyXG5cclxuICBpZiAoZG9vcnMpIHtcclxuICAgIHJldHVybiBjYXIuZG9vcnMgPT09IHBhcnNlSW50KGRvb3JzKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbHRlclRyYW5zbWlzc2lvbihjYXIpIHtcclxuICBjb25zdCB7IHRyYW5zbWlzc2lvbiB9ID0gc2VhcmNoRGF0YTtcclxuXHJcbiAgaWYgKHRyYW5zbWlzc2lvbikge1xyXG4gICAgcmV0dXJuIGNhci50cmFuc21pc3Npb24udG9Mb3dlckNhc2UoKSA9PSB0cmFuc21pc3Npb247XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWx0ZXJDb2xvcihjYXIpIHtcclxuICBjb25zdCB7IGNvbG9yIH0gPSBzZWFyY2hEYXRhO1xyXG5cclxuICBpZiAoY29sb3IpIHtcclxuICAgIHJldHVybiBjYXIuY29sb3IgPT09IGNvbG9yO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhcjtcclxufVxyXG4iXX0=
